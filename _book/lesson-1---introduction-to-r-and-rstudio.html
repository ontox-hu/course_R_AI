<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Lesson 1 - Introduction to R and RStudio | Intro into R, Reproducible research and machine learning</title>
  <meta name="description" content="Lesson 1 - Introduction to R and RStudio | Intro into R, Reproducible research and machine learning" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Lesson 1 - Introduction to R and RStudio | Intro into R, Reproducible research and machine learning" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Lesson 1 - Introduction to R and RStudio | Intro into R, Reproducible research and machine learning" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="preparation-before-the-course.html"/>
<link rel="next" href="lesson-2---data-types-and-structures-in-r.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />










<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo"><a href="./"><img style="float:left;" src="images/voorbeeldlogo2.png"></a> <h4 class=".paddingtitel ">DAUR1 </h2></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-outline"><i class="fa fa-check"></i>Course outline</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#course-material"><i class="fa fa-check"></i>Course material</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#lessons"><i class="fa fa-check"></i>Lessons</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#exercises"><i class="fa fa-check"></i>Exercises</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#rstudio-server"><i class="fa fa-check"></i>Rstudio server</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#learning-objectives"><i class="fa fa-check"></i>Learning objectives</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html"><i class="fa fa-check"></i>Preparation before the course</a>
<ul>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#lets-get-started"><i class="fa fa-check"></i>Let’s get started!</a>
<ul>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#remarks-before-starting"><i class="fa fa-check"></i>Remarks before starting</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#updating-r-and-rstudio"><i class="fa fa-check"></i>Updating R and RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#windows-users-1"><i class="fa fa-check"></i>Windows users</a></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#mac-users-1"><i class="fa fa-check"></i>Mac users</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#installRhere"><i class="fa fa-check"></i>Install R</a>
<ul>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#windows"><i class="fa fa-check"></i>Windows</a></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#mac"><i class="fa fa-check"></i>Mac</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#install-rstudio"><i class="fa fa-check"></i>Install RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#install-rstudio-itself"><i class="fa fa-check"></i>Install RStudio itself</a></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#installing-packages"><i class="fa fa-check"></i>Installing packages</a></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#loading-packages"><i class="fa fa-check"></i>Loading packages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#if-all-is-still-not-well"><i class="fa fa-check"></i>If all is still not well</a></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#reader"><i class="fa fa-check"></i>reader</a></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#introduction-to-r"><i class="fa fa-check"></i>Introduction to R</a>
<ul>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#variables-and-functions"><i class="fa fa-check"></i>Variables and functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#rstudio"><i class="fa fa-check"></i>Rstudio</a>
<ul>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#console"><i class="fa fa-check"></i>Console</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#projects"><i class="fa fa-check"></i>Projects</a>
<ul>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#starting-a-new-project-in-rstudio"><i class="fa fa-check"></i>Starting a new Project in Rstudio</a></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#opening-a-project-in-rstudio"><i class="fa fa-check"></i>Opening a project in Rstudio</a></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#more-help"><i class="fa fa-check"></i>More help</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparation-before-the-course.html"><a href="preparation-before-the-course.html#diy"><i class="fa fa-check"></i>DIY</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i>Lesson 1 - Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#learning-objectives-1"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#starting-to-work-within-a-project"><i class="fa fa-check"></i>Starting to work within a project</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#running-code-in-rstudio"><i class="fa fa-check"></i>Running code in Rstudio</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#variables"><i class="fa fa-check"></i>Variables</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#functions"><i class="fa fa-check"></i>Functions</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#packages-and-libraries"><i class="fa fa-check"></i>Packages and libraries</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#the-help-function"><i class="fa fa-check"></i>The help function</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#data-types-and-structures-in-r"><i class="fa fa-check"></i>Data types and structures in R</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#indexing"><i class="fa fa-check"></i>Indexing</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#missing-values"><i class="fa fa-check"></i>Missing values</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#more-complicated-data"><i class="fa fa-check"></i>More complicated data</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#lists"><i class="fa fa-check"></i>Lists</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#selecting-list-elements"><i class="fa fa-check"></i>Selecting list elements</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#headers"><i class="fa fa-check"></i>Headers</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#dataframes"><i class="fa fa-check"></i>Dataframes</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#data-analysis-using-dataframes"><i class="fa fa-check"></i>Data analysis using dataframes</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#tibbles"><i class="fa fa-check"></i>Tibbles</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#factors"><i class="fa fa-check"></i>Factors</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#using-functions-drc"><i class="fa fa-check"></i>using functions: drc</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#scripts-and-rmarkdown"><i class="fa fa-check"></i>scripts and Rmarkdown</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#scripts"><i class="fa fa-check"></i>scripts</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#rmarkdown"><i class="fa fa-check"></i>Rmarkdown</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#bla"><i class="fa fa-check"></i>bla</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#yaml-header"><i class="fa fa-check"></i>YAML header</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#code-chunks"><i class="fa fa-check"></i>Code chunks</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#output-control"><i class="fa fa-check"></i>Output control</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#plain-text-formatting"><i class="fa fa-check"></i>Plain text formatting</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#here-package"><i class="fa fa-check"></i>Here package</a></li>
<li class="chapter" data-level="" data-path="lesson-1---introduction-to-r-and-rstudio.html"><a href="lesson-1---introduction-to-r-and-rstudio.html#creating-a-new-rmarkdown-file"><i class="fa fa-check"></i>Creating a new RMarkdown file</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-2---data-types-and-structures-in-r.html"><a href="lesson-2---data-types-and-structures-in-r.html"><i class="fa fa-check"></i>Lesson 2 - Data types and structures in R</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-2---data-types-and-structures-in-r.html"><a href="lesson-2---data-types-and-structures-in-r.html#learning-objectives-2"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="lesson-2---data-types-and-structures-in-r.html"><a href="lesson-2---data-types-and-structures-in-r.html#data-in-r"><i class="fa fa-check"></i>Data in R</a></li>
<li class="chapter" data-level="" data-path="lesson-2---data-types-and-structures-in-r.html"><a href="lesson-2---data-types-and-structures-in-r.html#oefenopdracht-thuis"><i class="fa fa-check"></i>Oefenopdracht (thuis)</a></li>
<li class="chapter" data-level="" data-path="lesson-2---data-types-and-structures-in-r.html"><a href="lesson-2---data-types-and-structures-in-r.html#overview-r-functions-first-two-lessons"><i class="fa fa-check"></i>Overview R functions first two lessons</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html"><i class="fa fa-check"></i>Lesson 3 - Importing data &amp; tidy data</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#learning-objectives-3"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#importing-text-files"><i class="fa fa-check"></i>Importing text files</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#separators"><i class="fa fa-check"></i>separators</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#extracting-numbers"><i class="fa fa-check"></i>extracting numbers</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#setting-variable-column-names"><i class="fa fa-check"></i>Setting variable (column) names</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#importing-excel-files"><i class="fa fa-check"></i>Importing Excel files</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#saving-and-importing-r_objects"><i class="fa fa-check"></i>Saving and importing R_Objects</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#inspecting-your-data"><i class="fa fa-check"></i>Inspecting your data</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#what-is-tidy-data"><i class="fa fa-check"></i>What is tidy data?</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#making-your-data-tidy-gathering"><i class="fa fa-check"></i>Making your data tidy: gathering</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#making_your_data_tidy-spreading"><i class="fa fa-check"></i>Making_your_data_tidy: spreading</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#making_your_data_tidy-separate"><i class="fa fa-check"></i>Making_your_data_tidy: separate</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#checking-normality"><i class="fa fa-check"></i>Checking normality</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#map-functions"><i class="fa fa-check"></i>map functions</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#histograms"><i class="fa fa-check"></i>Histograms</a></li>
<li class="chapter" data-level="" data-path="lesson-3---importing-data-tidy-data.html"><a href="lesson-3---importing-data-tidy-data.html#overview-r-functions"><i class="fa fa-check"></i>Overview R functions</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html"><i class="fa fa-check"></i>Lesson 4 - Answering research questions</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#learning-objectives-4"><i class="fa fa-check"></i>Learning objectives</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#difference-questions"><i class="fa fa-check"></i>Difference Questions</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#practice-making-bar-charts"><i class="fa fa-check"></i>Practice making bar charts</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#two-sample-t-tests"><i class="fa fa-check"></i>Two sample t-tests</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#unpaired-two-sample-t-test"><i class="fa fa-check"></i>Unpaired two sample t test</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#paired-two-sample-t-test"><i class="fa fa-check"></i>Paired two sample t test</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#plotting-significance"><i class="fa fa-check"></i>Plotting significance</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#anova"><i class="fa fa-check"></i>ANOVA</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#one-sample-t-test"><i class="fa fa-check"></i>One sample t-test</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#detection"><i class="fa fa-check"></i>Detection</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#descriptive-questions"><i class="fa fa-check"></i>Descriptive Questions</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#line-graphs"><i class="fa fa-check"></i>Line graphs</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#boxplots"><i class="fa fa-check"></i>Boxplots</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#outliers"><i class="fa fa-check"></i>Outliers</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#relation-questions"><i class="fa fa-check"></i>Relation Questions</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#correlation"><i class="fa fa-check"></i>Correlation</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#regression"><i class="fa fa-check"></i>Regression</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#checklists"><i class="fa fa-check"></i>Checklists</a>
<ul>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#verschilvragen"><i class="fa fa-check"></i>verschilvragen</a></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#verbandvragen"><i class="fa fa-check"></i>verbandvragen</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="lesson-4---answering-research-questions.html"><a href="lesson-4---answering-research-questions.html#overview-r-functions-1"><i class="fa fa-check"></i>Overview R functions</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Intro into R, Reproducible research and machine learning</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="lesson-1---introduction-to-r-and-rstudio" class="section level1">
<h1>Lesson 1 - Introduction to R and RStudio</h1>
<p><img src="images/01_1_rstudiologo.png" /></p>
<div id="learning-objectives-1" class="section level2">
<h2>Learning objectives</h2>
<p>After this lesson:</p>
<ul>
<li>you know how RStudio is organized;</li>
<li>you can run R scripts in RStudio using R scripts;</li>
<li>you know how to use R packages;</li>
<li>and you know how you can find information (help function and vignettes) about the R functions you are using.</li>
<li>You will know the different data types and structures in R.</li>
<li>You can create your own R objects.</li>
</ul>
<p><strong>Make sure you code along with the examples.</strong> Try to replicate what the reader is doing!</p>
</div>
<div id="starting-to-work-within-a-project" class="section level2">
<h2>Starting to work within a project</h2>
<ul>
<li><strong>In the preparation for this course, you made a project. Open this project.</strong></li>
</ul>
<p><img src="images/01_10_Open_Project_1.jpg" width="60%" /></p>
<div id="running-code-in-rstudio" class="section level3">
<h3>Running code in Rstudio</h3>
<p>To execute R functions / code there are two options:</p>
<ul>
<li>Directly in the R console (the code is not saved)</li>
<li>Write a script. (the code can be saved)</li>
</ul>
<p>The preferred method is to enter the code in a script. Writing and executing R code by using a script has several advantages:</p>
<p>1 The code can be saved and therefore is reproducible.
2 The code can be shared between researchers
3 The code can be made clear by adding comments using the # sign
4 The code can be re-used for other purposes</p>
<p>In contrast to R script, your code will be lost if you directly enter and execute the code in the R console.</p>
<p><strong>To create an R script: click on the “green” plus sign and select R script (see Figure <a href="lesson-1---introduction-to-r-and-rstudio.html#fig:openscript">3</a>)</strong></p>
<div class="figure"><span style="display:block;" id="fig:openscript"></span>
<img src="images/01_13_Rstudio_1.jpg" alt="creating a new R script in Rstudio" width="60%" />
<p class="caption">
Figure 3: creating a new R script in Rstudio
</p>
</div>
<p>A new script has opened in the upper left part of the screen.</p>
<p><strong>Try typing <code>2+2</code> in your new script</strong></p>
<p>To execute this command: <strong>Put the cursor on the line of code of interest and press Ctrl + enter</strong></p>
<p>alternatively:</p>
<ul>
<li>Make a selection of lines of code and press Ctrl + enter.</li>
<li>To source the entire script press ctrl + shift + s<br />
</li>
<li>To run the entire script, click the green arrow with “run” next to it on the top right corner of your script.</li>
</ul>
<p>The <strong>OUTPUT</strong> of the line of code will be visible in the R Console or if making a graph in the Plots panel in the lower right window (see Figure <a href="lesson-1---introduction-to-r-and-rstudio.html#fig:examplescript">4</a>)**</p>
<div class="figure"><span style="display:block;" id="fig:examplescript"></span>
<img src="images/01_14_Rstudio_2.jpg" alt="Example of an R script" width="90%" />
<p class="caption">
Figure 4: Example of an R script
</p>
</div>
<p>**Read the code + comments in figure <a href="lesson-1---introduction-to-r-and-rstudio.html#fig:examplescript">4</a> carefully to understand the principle of an R script. Two object were created and saved in the Environment panel in the top right.</p>
<p>Importantly, within an R script any text starting with a # sign will be treated as text only. This is very useful to write comments on why you’re using a particular code. The actual lines of code are:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb9-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span><span class="sc">*</span><span class="dv">4</span></span>
<span id="cb9-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span><span class="sc">^</span><span class="fl">0.5</span>                          <span class="do">## ^ sign means to the power to</span></span>
<span id="cb9-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb9-3" aria-hidden="true" tabindex="-1"></a>division1 <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="sc">/</span> <span class="dv">4</span>           <span class="do">## create an object named  division1</span></span>
<span id="cb9-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb9-4" aria-hidden="true" tabindex="-1"></a>division2 <span class="ot">&lt;-</span> division1  <span class="sc">/</span>  <span class="dv">5</span>   <span class="do">## create an object named  division2 based on object division1</span></span>
<span id="cb9-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb9-5" aria-hidden="true" tabindex="-1"></a>(division1 <span class="sc">-</span> division2) <span class="sc">/</span> division1 <span class="do">## you can use brackets</span></span></code></pre></div>
<p>To save an R script simply press Ctrl+S or click on file and click on the <strong>save</strong> or <strong>save as</strong> options. The code will be saved in your RProject folder</p>
</div>
<div id="variables" class="section level3">
<h3>Variables</h3>
<p><strong>Copy and paste the lines in the grey block above into a new script and run the script (select the lines and press ctrl+enter OR click on “Run” on the top right above your script).</strong></p>
<p>We have made two variables in the 5 lines of code (or objects, anything in R is an object. On the internet, you will see “variable” and “object” used interchangeably when talking about R:. What are known as objects in R are known as variables in many other programming languages). You can find all objects created in a session in the upper right window, within the “environment” tab. <strong>(find the environment tab)</strong> If you ran the script correctly, division1 and division2 should be visible there (see also figure <a href="lesson-1---introduction-to-r-and-rstudio.html#fig:examplescript">4</a> above).</p>
<p>Objects are created with the assignment operator
<code>&lt;-</code>
It assigns the stuff on the right to an object on the left. So, after running <code>division1 &lt;- 100 / 4</code> , the value of division1 is 25. We will dive into this in lesson 2.</p>
<p><strong>Type division1 into the console window to see its contents.</strong></p>
<div id="exercise-1" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p>Write an R <strong>script</strong> (so not in the console) that calculates the 95% confidence interval from a sample with 60 datapoints (n) with a given sample mean and sample standarddeviation. Follow the steps below.</p>
<p>The equation for a 95% confidence interval is:</p>
<p><span class="math inline">\(xgem \pm 1,96 * \frac{s}{\sqrt{n}}\)</span></p>
<p>with: <strong><span class="math inline">\(xgem\)</span></strong> : sample mean, <strong><span class="math inline">\(s\)</span></strong>: sample standard deviation, <strong><span class="math inline">\(n\)</span></strong> : amount of measurements</p>
<p>Do the following:</p>
<ul>
<li>open a new R script</li>
<li>first make 3 objects, on 3 separate lines:
<ul>
<li><code>xgem</code> contains the number 50</li>
<li><code>s</code> contains the number 4</li>
<li><code>n</code> contains the number 60</li>
</ul></li>
<li>on the fourth line, make an object that contains the square root of n (remember that <span class="math inline">\({\sqrt{n} = n^{0.5}}\)</span>)</li>
<li>on the fifth and sixth line, write the equations for the lower and upper boundary of the 95% confidence interval. Use the objects you made. Don’t forget the brackets () !</li>
</ul>
</div>
<details>
<summary>
Click for the answer
</summary>
<div class="sourceCode" id="cb10"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb10-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb10-1" aria-hidden="true" tabindex="-1"></a>xgem <span class="ot">&lt;-</span> <span class="dv">50</span></span>
<span id="cb10-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb10-2" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb10-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb10-3" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">60</span></span>
<span id="cb10-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb10-4" aria-hidden="true" tabindex="-1"></a>sqrootn <span class="ot">&lt;-</span> n<span class="sc">^</span><span class="fl">0.5</span></span>
<span id="cb10-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb10-5" aria-hidden="true" tabindex="-1"></a>xgem <span class="sc">-</span> (<span class="fl">1.96</span><span class="sc">*</span>(s<span class="sc">/</span>sqrootn)) <span class="co"># lower</span></span></code></pre></div>
<pre class="Rout"><code>## [1] 48.98786</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb12-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb12-1" aria-hidden="true" tabindex="-1"></a>xgem <span class="sc">+</span> (<span class="fl">1.96</span><span class="sc">*</span>(s<span class="sc">/</span>sqrootn)) <span class="co"># upper</span></span></code></pre></div>
<pre class="Rout"><code>## [1] 51.01214</code></pre>
</details>
</div>
<div id="functions" class="section level3">
<h3>Functions</h3>
<div id="exercise-1-1" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p><strong>Make a new variable called length_myname, which contains a number representing the length of your first name. For example, type in the script: <code>length_myname &lt;- 7</code></strong></p>
</div>
<details>
<summary>
Click for the answer
</summary>
<div class="sourceCode" id="cb14"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb14-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># for example if your name is &quot;Bas&quot; :</span></span>
<span id="cb14-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb14-2" aria-hidden="true" tabindex="-1"></a>length_myname <span class="ot">&lt;-</span> <span class="dv">3</span></span></code></pre></div>
</details>
<p>We can actually ask R: to calculate the length if we want.</p>
<p><strong>Type in the script (replace my name with yours) and run the lines (select them and press Ctrl + enter):</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb15-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb15-1" aria-hidden="true" tabindex="-1"></a>myname <span class="ot">&lt;-</span> <span class="st">&quot;alyanne&quot;</span></span>
<span id="cb15-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nchar</span>(myname)</span></code></pre></div>
<p>The number of characters in your name should appear in the console.</p>
<p>We have just used a <strong>function</strong>. Functions allow you to automate common tasks, such as count the characters in a word, or calculate the mean of a series of numbers. Functions generally want some input (such as the word or the numbers), which is placed between round brackets:
<code>function_name(input)</code></p>
<p>For instance, there is a function to calculate the square root of something, called <code>sqrt()</code>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb16-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">25</span>)</span></code></pre></div>
<pre class="Rout"><code>## [1] 5</code></pre>
</div>
<div id="packages-and-libraries" class="section level3">
<h3>Packages and libraries</h3>
<p>R has many build in functions, but you add more by writing them yourself (we won’t cover that in this course) or by installing <em>packages</em> with functions other people have written. The R: community is very active, and also very open-source. There are a lot (!) of packages available online for free.
In this course we have already preinstalled most packages you need.</p>
<p>A package needs to be loaded in R though, by the function <code>library()</code>.</p>
<div class="tip">
<p>A package only needs to be installed once but needs to be loaded every time you have closed Rstudio on the server.</p>
<p>Start all our scripts with loading the packages you are going to use.</p>
</div>
<p>A package that we will extensively use during this course is named “tidyverse”.</p>
<p><strong>So start your scripts within this course with:</strong></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb18-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
</div>
<div id="the-help-function" class="section level3">
<h3>The help function</h3>
<p>Each function in R operates with a set of arguments. To check how a function in R operates, type a question mark in the console followed by the name of the function. For example to generate a sequence of numbers we use the function seq(). <strong>To see how it works type:</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb19-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb19-1" aria-hidden="true" tabindex="-1"></a>?<span class="fu">seq</span>()</span></code></pre></div>
<!-- The OUTPUT of the help function will be displayed at the Help panel in the lower right corner of the screen. Often the text is a generic and technical description of the function and its arguments. It can be very hard to read and understand. (see Figure  \@ref(fig:seqhelp)). -->
<!-- ```{r seqhelp, echo=FALSE, message=FALSE, out.width = "60%",fig.cap = "Output of ?seq() in Rstudio"} -->
<!-- knitr::include_graphics("images/01_16_seq_help.JPG") -->
<!-- ``` -->
<!-- The Arguments section describes the default values of the arguments. If the value of an argument =NULL, the argument is not used by default unless you invoke the argument by providing a value -->
<!-- We note that the seq() function minimally takes three arguments: -->
<!-- * The start of the sequence: from= -->
<!-- * The end of the sequence: to= -->
<!-- * The stepsize: by=  -->
<!-- The most useful part of the Help panel is to Scroll down to the Examples section (see Figure \@ref(fig:seqhelp2)).  -->
<!-- ```{r seqhelp2, echo=FALSE, message=FALSE, out.width = "60%",fig.cap = "Examples of how to use the seq() function "} -->
<!-- knitr::include_graphics("images/01_17_seq_help2.JPG") -->
<!-- ``` -->
<!-- Alternatively in google (or your favorite search engine), type,  "r seq function example" and select a page with examples. It takes a bit of practice to use the internet to search for good examples but it will certainly pay off in the long run. -->
<!-- ### DIY -->
<!-- As a reminder: -->
<!-- We expect you to try things yourself during this course. When reading the lessons, try all the examples in R. So open Rstudio on the server, copy-paste the examples in a script and run them. *Play around with the code.* You will not learn R: by watching someone else write it, or by reading about it. This is a skill that you will need to practice.  -->
<!-- So in the following example, first copy-paste the example (hoover and click in right corner) to your script and run the lines of code (select them and press ctrl-enter). R will print the characters in alphabetical order in the console window. What would you need to type to get the reverse order? type ?sort in the console or Google it and try it! -->
<!-- ###### Example -->
<!-- ```{r eval=F} -->
<!-- sesamstraat <- c("ernie", "bert", "elmo", "pino", "grover", "kermit", "ms piggy", "koekiemonster") -->
<!-- sort(sesamstraat) -->
<!-- ```  -->
<!-- Often, we will show you what the output should look like in lighter gray. You can also recognise code output by the ## in front of the lines: -->
<!-- ###### Example -->
<!-- ```{r} -->
<!-- sesamstraat <- c("ernie", "bert", "elmo", "pino", "grover", "kermit", "ms piggy", "koekiemonster") -->
<!-- sort(sesamstraat) -->
<!-- ``` -->
<!-- If your output looks different, such as: -->
<!-- `Error in sort(sesamstrat) : object 'sesamstrat' not found`  -->
<!-- you know something is going wrong. -->
<!-- The following code will give you an error. Do you see why? -->
<!-- ```{r, eval=F} -->
<!-- my_variable <- 10 -->
<!-- my_varıable -->
<!-- #> Error in eval(expr, envir, enclos): object 'my_varıable' not found -->
<!-- ``` -->
<!-- This may seem a bit annoying, now that we are all used to Googles machine learning algorithms fixing things like this for us. But R doesn't do that. In fact, it's the other way around:  you can build those machine learning algorithms with R. So we will have to keep an eye on the details ourselves! -->
<!-- **can you fix the code above?** -->
</div>
</div>
<div id="data-types-and-structures-in-r" class="section level2">
<h2>Data types and structures in R</h2>
<p>Now that you have met Rstudio, we can begin working with data!</p>
<!-- ### Creating objects and assigning values -->
<!-- **Data types in R** -->
<!-- Depending on the experiment and type of measurement, a scientist will encounter different types of data. The most important **data types** in R are: -->
<!-- - character (text string of any length);   -->
<!-- - double (numeric: real or decimal);   -->
<!-- - integer (whole number);                           -->
<!-- - logical (TRUE or FALSE);                             -->
<!-- - and complex (imaginary numbers).  -->
<p><strong>Data structures in R</strong></p>
<p>Data needs to be stored and therefore must be organized in (complex) data structures. The most important <strong>data structures</strong> in R are:</p>
<ul>
<li>vector; collection of values of the same data type.</li>
<li>factors; a vector with <strong>categorical</strong> data, can contain only predefined values.</li>
<li>list; elements in lists can be of any type, including lists.</li>
<li>dataframes &amp; tibbles : sort of like a table in excel. Tt has rows and columns (variables).</li>
</ul>
<div class="tip">
<p>objects are created with the assignment operator: <strong>&lt;-</strong>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb20-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb20-1" aria-hidden="true" tabindex="-1"></a>name_of_object <span class="ot">&lt;-</span> what_you_want_to_store_in_it</span></code></pre></div>
</div>
<p><strong>Object names</strong> must start with a <strong>letter</strong> and can only contain letters, numbers, ’_’ (an underscore) and ‘.’ (a dot). Object names must be <strong>informative</strong> so that you remember what kind of data is stored in the R object. A convention is to use <strong>snake_case</strong> where you separate lowercase words with underscores. For example, a possible object name for a gene expression dataset in stem cells could be ‘rnaseq_mouse_24hrs_stemcells’.</p>
<!-- In this lesson we will create some R objects with different data types and structures. -->
<!-- ### Vectors (part 1) -->
<!-- A **vector** is a collection of values of the same data type. You can make them with a function: `c()`. -->
<!-- ###### Example -->
<!-- ```{r} -->
<!-- # Create a vector with 5 numeric elements -->
<!-- vector_1 <- c(1, 2, 3, 4, 5)  -->
<!-- # use typeof() to check the data type of the values in the vector -->
<!-- typeof(vector_1) -->
<!-- # use length() to check the number of values in a vector -->
<!-- length(vector_1) -->
<!-- ``` -->
<!-- Vectors can contain other data than numbers: -->
<!-- ```{r} -->
<!-- # Create a vector with 4 character elements -->
<!-- vector_2 <- c("one", "two", "three", "four")  -->
<!-- typeof(vector_2) -->
<!-- # Display the number of characters of each element of the vector -->
<!-- nchar(vector_2)  -->
<!-- ``` -->
<!-- But a vector can contain only one type of data. Vectors = with different data types will be converted to a common data type. This conversion is called **coercion**. Values are converted to the simplest type required to represent all information. The ordering is roughly: logical < integer < numeric < complex < character.  -->
<!-- ```{r} -->
<!-- vector_3 <- c(1,2,3,4,"one", "two", "three", "four")  -->
<!-- vector_3 -->
<!-- typeof(vector_3) -->
<!-- ``` -->
<!-- A special type of vectors are sequences. To generate sequences we can use the `:` operator and the function `seq()` (see examples below).  -->
<!-- ###### Example -->
<!-- ```{r} -->
<!-- # Create a numeric sequence with step size of 1 -->
<!-- vector_3 <- 2:15   -->
<!-- vector_3 -->
<!-- # Create a numeric vector from 2 to 20 with step size of 2 -->
<!-- vector_4 <- seq(2, 20, by = 2)  -->
<!-- vector_4 -->
<!-- ``` -->
<!-- ### Pasting vectors with text together -->
<!-- To combine vectors we can use the `paste()` function or `paste0()` function. These two functions are very similar; the only difference is that the `paste0()` function does not introduce spaces when pasting together the vector elements (see examples below).  -->
<!-- ###### Example -->
<!-- ```{r} -->
<!-- # Paste the two vectors together separated by spaces -->
<!-- vector_5 <- letters[1:10]   -->
<!-- vector_6 <- paste(vector_4, vector_5) -->
<!-- vector_6 -->
<!-- # Paste the two vectors together separated by dashes -->
<!-- vector_6 <- paste(vector_4, vector_5, sep = "-")  -->
<!-- vector_6 -->
<!-- # Paste the two vectors together without spaces -->
<!-- vector_6 <- paste0(vector_4, vector_5)  -->
<!-- vector_6 -->
<!-- ``` -->
<!-- ### Sorting vectors -->
<!-- You may want to sort the vector alphabetically, numerically or both. Vectors can be sorted using the `sort()` function.  -->
<!-- ###### Example -->
<!-- ```{r} -->
<!-- sesamstraat <- c("ernie", "bert", "elmo", "pino", "grover",  -->
<!--                  "kermit", "ms piggy", "koekiemonster") -->
<!-- sort(sesamstraat) -->
<!-- ``` -->
<!-- <div class="question"> -->
<!-- ##### Exercise 1 {-}  -->
<!-- Write an R code to create three vectors: -->
<!-- - vector1 contains "Hello" -->
<!-- - vector2 contains ","  -->
<!-- - vector3 contains "World" -->
<!-- Combine the three vectors with white spaces into a new vector4 to create "Hello , World" -->
<!-- </div> -->
<!-- <details><summary>Click for the answer</summary> -->
<!-- ```{r} -->
<!-- vector_h <- c("Hello") -->
<!-- vector_k <- c(",") -->
<!-- vector_w <- c("World") -->
<!-- vector_all <- paste(vector_h, vector_k, vector_w, sep=" ") -->
<!-- vector_all -->
<!-- ``` -->
<!-- </details> -->
<!-- ##### Exercise 1 {-}  -->
<!-- <div class="question"> -->
<!-- Create the following vector: -->
<!-- ```{r} -->
<!-- vector_numeric <- c(1:10, "11") -->
<!-- ``` -->
<!-- (a) What is the data type of vector_numeric? -->
<!-- (b) Can you explain the answer of (a)? -->
<!-- </div> -->
<!-- <details><summary>Click for the answer</summary> -->
<!-- (a) -->
<!-- ```{r} -->
<!-- typeof(vector_numeric) -->
<!-- ``` -->
<!-- (b)     -->
<!-- "11" is a character and not a number, as it is between quotes. -->
<!-- </details> -->
<div id="exercise-1-2" class="section level5 unnumbered">
<h5>Exercise 1</h5>
<div class="question">
<p>Now that you know how to assign things to an object ( <code>&lt;-</code> ) and use a function (<code>functionname(input)</code>), let’s try the following:</p>
<p>Write R code to calculate:</p>
<ol style="list-style-type: lower-alpha">
<li>the sum of even numbers between 30 and 58.</li>
<li>the square (power of 2) of the numbers 1 till 50.
Note: the power function in R is written as a^b meaning a to the power of b. For example 2^3 = 2x2x2 = 8.</li>
<li>the square (power of 2) of the odd number between 50 and 100.</li>
</ol>
</div>
<details>
<summary>
Click for the answer
</summary>
<ol style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb21"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb21-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">seq</span>(<span class="dv">30</span>,<span class="dv">58</span>,<span class="dv">2</span>))</span></code></pre></div>
<pre class="Rout"><code>## [1] 660</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb23"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb23-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb23-1" aria-hidden="true" tabindex="-1"></a>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>)<span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<pre class="Rout"><code>##  [1]    1    4    9   16   25   36   49   64   81  100  121  144  169  196  225  256  289  324  361  400
## [21]  441  484  529  576  625  676  729  784  841  900  961 1024 1089 1156 1225 1296 1369 1444 1521 1600
## [41] 1681 1764 1849 1936 2025 2116 2209 2304 2401 2500</code></pre>
<ol start="3" style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb25"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb25-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb25-1" aria-hidden="true" tabindex="-1"></a>odd_numbers <span class="ot">&lt;-</span><span class="fu">seq</span>(<span class="dv">51</span>, <span class="dv">100</span>, <span class="at">by=</span><span class="dv">2</span>)</span>
<span id="cb25-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb25-2" aria-hidden="true" tabindex="-1"></a>odd_numbers<span class="sc">^</span><span class="dv">2</span></span></code></pre></div>
<pre class="Rout"><code>##  [1] 2601 2809 3025 3249 3481 3721 3969 4225 4489 4761 5041 5329 5625 5929 6241 6561 6889 7225 7569 7921
## [21] 8281 8649 9025 9409 9801</code></pre>
</details>
<!-- <div class="question"> -->
<!-- ##### Exercise 1 {-}  -->
<!-- Write R code to create a vector containing "26:z", "25:y", "24:x", "23:w" and so on untill "1:a" by combining two vectors.  -->
<!-- Make use of the `paste()` and the `sort()` function. To look up the options for the sort() function use `?sort()`. -->
<!-- </div> -->
<!-- <details><summary>Click for the answer</summary> -->
<!-- ```{r} -->
<!-- vector_numeric <- c(26:1) -->
<!-- vector_letters <- letters[1:26] -->
<!-- vector_letters_z_a <- sort(vector_letters, decreasing = TRUE) -->
<!-- vector_combined <- paste(vector_numeric, vector_letters_z_a, sep = ":") -->
<!-- ``` -->
<!-- </details> -->
</div>
</div>
<div id="indexing" class="section level2">
<h2>Indexing</h2>
<p>Quite often, you will want to use a subset of a vector for further analysis. You can select elements from a vector by using an index inside a single square bracket “[]” operator. This index can be numbers (the positions of the elements to be selected), the first element of an vector has index 1 and so on. But it can also be for instance a function or logicals.</p>
<div id="example-1" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb27"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb27-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb27-1" aria-hidden="true" tabindex="-1"></a>long_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">6</span>)</span>
<span id="cb27-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb27-2" aria-hidden="true" tabindex="-1"></a>long_vector</span></code></pre></div>
<pre class="Rout"><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15  5  6  5  6</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb29-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Positional indexing: Display the second to fifth element of lange_vector</span></span>
<span id="cb29-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb29-2" aria-hidden="true" tabindex="-1"></a>long_vector[<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>]</span></code></pre></div>
<pre class="Rout"><code>## [1] 2 3 4 5</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb31-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Take the sum of the second to fifth element of lange_vector</span></span>
<span id="cb31-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(long_vector[<span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>])</span></code></pre></div>
<pre class="Rout"><code>## [1] 14</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb33-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Positional indexing: Display element 2, 6 and 8 of the built-in object letters</span></span>
<span id="cb33-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb33-2" aria-hidden="true" tabindex="-1"></a>letters[<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">8</span>)]  </span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;b&quot; &quot;f&quot; &quot;h&quot;</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb35-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># function: Display the last element in lange_vector</span></span>
<span id="cb35-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb35-2" aria-hidden="true" tabindex="-1"></a>lange_vector[<span class="fu">length</span>(lange_vector)]</span></code></pre></div>
<pre class="Rout"><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb37-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Logical: Display the elements in lange_vector that are equal to 5</span></span>
<span id="cb37-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb37-2" aria-hidden="true" tabindex="-1"></a>lange_vector[lange_vector<span class="sc">==</span><span class="dv">5</span>]</span></code></pre></div>
<pre class="Rout"><code>## [1] 5 5 5</code></pre>
<!-- <div class="question"> -->
<!-- ##### Exercise 1 {-}  -->
<!-- Write R code to select the 3rd item from lange_vector.  -->
<!-- And write a line to select the second-last item from lange_vector.  -->
<!-- </div> -->
<!-- <details><summary>Click for the answer</summary> -->
<!-- ```{r} -->
<!-- lange_vector <- c(1:15,5,6,5,6) -->
<!-- # third element of lange_vector -->
<!-- lange_vector[3] -->
<!-- # second-last of lange_vector -->
<!-- lange_vector[length(lange_vector)-1] -->
<!-- ``` -->
<!-- </details> -->
<p>Most R functions are <strong>vectorized</strong>. That means that the functions can take vectors as input: the function operations are applied to all vector elements.</p>
</div>
<div id="example-2" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb39"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb39-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb39-1" aria-hidden="true" tabindex="-1"></a>vector_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>) </span>
<span id="cb39-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb39-2" aria-hidden="true" tabindex="-1"></a>vector_1 <span class="sc">+</span> <span class="dv">10</span></span></code></pre></div>
<pre class="Rout"><code>## [1] 11 12 13 14 15</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb41-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb41-1" aria-hidden="true" tabindex="-1"></a>vector_1 <span class="sc">*</span> vector_1</span></code></pre></div>
<pre class="Rout"><code>## [1]  1  4  9 16 25</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb43-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(vector_1)</span></code></pre></div>
<pre class="Rout"><code>## [1] 15</code></pre>
<div class="sourceCode" id="cb45"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb45-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(vector_1)</span></code></pre></div>
<pre class="Rout"><code>## [1] 3</code></pre>
<p>To select elements of a vector based on a condition we can use indices <code>[]</code> and the function <code>subset()</code>.
###### Example</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb47-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector with the seq() function</span></span>
<span id="cb47-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># NB: length.out determines the number of elements</span></span>
<span id="cb47-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb47-3" aria-hidden="true" tabindex="-1"></a>reeks <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="at">length.out =</span> <span class="dv">6</span>) </span>
<span id="cb47-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Select the elements larger than 5</span></span>
<span id="cb47-6"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb47-6" aria-hidden="true" tabindex="-1"></a>reeks[reeks <span class="sc">&gt;</span> <span class="dv">5</span>] </span></code></pre></div>
<pre class="Rout"><code>## [1]  6  8 10</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb49-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb49-1" aria-hidden="true" tabindex="-1"></a>reeks2 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">100</span>, <span class="sc">-</span><span class="dv">100</span>, <span class="sc">-</span><span class="dv">10</span>)</span>
<span id="cb49-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the vector elements smaller or equal to 30</span></span>
<span id="cb49-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(reeks2, reeks2 <span class="sc">&lt;=</span> <span class="dv">30</span>) </span></code></pre></div>
<pre class="Rout"><code>##  [1]   30   20   10    0  -10  -20  -30  -40  -50  -60  -70  -80  -90 -100</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb51-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the vector elements between -30 and 30</span></span>
<span id="cb51-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="co"># NB: &#39;&amp;&#39; means &#39;and&#39;</span></span>
<span id="cb51-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(reeks2, reeks2 <span class="sc">&gt;=</span> <span class="sc">-</span><span class="dv">30</span> <span class="sc">&amp;</span> reeks2 <span class="sc">&lt;=</span> <span class="dv">30</span>) </span></code></pre></div>
<pre class="Rout"><code>## [1]  30  20  10   0 -10 -20 -30</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb53-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the vector elements smaller or equal to -50 or </span></span>
<span id="cb53-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co"># larger or equal to 50</span></span>
<span id="cb53-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co"># NB: &#39;|&#39; means &#39;or&#39;</span></span>
<span id="cb53-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(reeks2, reeks2 <span class="sc">&lt;=</span> <span class="sc">-</span><span class="dv">50</span> <span class="sc">|</span> reeks2 <span class="sc">&gt;=</span> <span class="dv">50</span>)</span></code></pre></div>
<pre class="Rout"><code>##  [1]  100   90   80   70   60   50  -50  -60  -70  -80  -90 -100</code></pre>
<p>To replace elements of a vector we use the square brackets [].</p>
</div>
<div id="example-3" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb55"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb55-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new vector called sesamstraat_1</span></span>
<span id="cb55-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb55-2" aria-hidden="true" tabindex="-1"></a>sesamstraat_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;pino&quot;</span>, <span class="st">&quot;elmo&quot;</span>, <span class="st">&quot;bert&quot;</span>, <span class="st">&quot;ernie&quot;</span>) </span>
<span id="cb55-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb55-3" aria-hidden="true" tabindex="-1"></a>sesamstraat_1</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;pino&quot;  &quot;elmo&quot;  &quot;bert&quot;  &quot;ernie&quot;</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb57-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace the first element &quot;pino&quot; with &quot;gonzo&quot;</span></span>
<span id="cb57-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb57-2" aria-hidden="true" tabindex="-1"></a>sesamstraat_1[<span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="st">&quot;gonzo&quot;</span></span>
<span id="cb57-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb57-3" aria-hidden="true" tabindex="-1"></a>sesamstraat_1</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;gonzo&quot; &quot;elmo&quot;  &quot;bert&quot;  &quot;ernie&quot;</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb59-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace element 3 (&quot;bert&quot;) and 4 (&quot;ernie&quot;) with &quot;groover&quot; and &quot;kermit&quot;</span></span>
<span id="cb59-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb59-2" aria-hidden="true" tabindex="-1"></a>sesamstraat_1[<span class="dv">3</span><span class="sc">:</span><span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;groover&quot;</span>, <span class="st">&quot;kermit&quot;</span>)   </span>
<span id="cb59-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb59-3" aria-hidden="true" tabindex="-1"></a>sesamstraat_1</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;gonzo&quot;   &quot;elmo&quot;    &quot;groover&quot; &quot;kermit&quot;</code></pre>
<p>To add elements to a vector, we use the function <code>append()</code>.</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb61-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the elements &quot;ernie&quot; en &quot;ms piggy&quot; to the end of the vector</span></span>
<span id="cb61-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">append</span>(sesamstraat_1, <span class="fu">c</span>(<span class="st">&quot;ernie&quot;</span>, <span class="st">&quot;ms piggy&quot;</span>))</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;gonzo&quot;    &quot;elmo&quot;     &quot;groover&quot;  &quot;kermit&quot;   &quot;ernie&quot;    &quot;ms piggy&quot;</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb63-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add the elements ernie&quot; en &quot;ms piggy&quot; after the 3rd element of the vector</span></span>
<span id="cb63-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">append</span>(sesamstraat_1, <span class="fu">c</span>(<span class="st">&quot;ernie&quot;</span>, <span class="st">&quot;ms piggy&quot;</span>), <span class="at">after =</span> <span class="dv">3</span>) </span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;gonzo&quot;    &quot;elmo&quot;     &quot;groover&quot;  &quot;ernie&quot;    &quot;ms piggy&quot; &quot;kermit&quot;</code></pre>
<!-- To delete elements of a vector, we use the square brackets [] in combination with the minus sign (-).  -->
<!-- ```{r} -->
<!-- sequentie <- 1:10 -->
<!-- # Delete the 3rd element of the vector (using minus sign) -->
<!-- sequentie[-3] -->
<!-- sequentie1 <- seq(10, 100, 10) -->
<!-- # Delete elements 6 to 10 of the vector -->
<!-- sequentie1[-c( 6:10 )]  ## delete 6th-10th element of the vector -->
<!-- ``` -->
</div>
<div id="exercise-1-3" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p>Write R code to select the vowels from the R contant LETTERS.
Use <code>subset()</code> and the bolean operator ‘|’ .</p>
</div>
<details>
<summary>
Click for the answer
</summary>
<div class="sourceCode" id="cb65"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb65-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">subset</span>(LETTERS, LETTERS <span class="sc">==</span><span class="st">&quot;A&quot;</span> <span class="sc">|</span> LETTERS <span class="sc">==</span><span class="st">&quot;E&quot;</span> <span class="sc">|</span> LETTERS <span class="sc">==</span><span class="st">&quot;I&quot;</span> <span class="sc">|</span> LETTERS <span class="sc">==</span><span class="st">&quot;O&quot;</span> <span class="sc">|</span> LETTERS <span class="sc">==</span><span class="st">&quot;U&quot;</span>)</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;A&quot; &quot;E&quot; &quot;I&quot; &quot;O&quot; &quot;U&quot;</code></pre>
</details>
</div>
<div id="missing-values" class="section level2">
<h2>Missing values</h2>
<p>Most often you will import data in R containing missing values. Missing values are important to recognize because they interfere with arithmetic calculations. Missing values are generally denoted as NA in R objects.</p>
<div id="example-4" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb67"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb67-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector containing 1 missing value (NA)</span></span>
<span id="cb67-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb67-2" aria-hidden="true" tabindex="-1"></a>vector_with_na <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="cn">NA</span>) </span>
<span id="cb67-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="co"># The sum and median of the vector will be NA </span></span>
<span id="cb67-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="co"># (because there is an NA in the vector)</span></span>
<span id="cb67-6"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb67-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(vector_with_na) </span></code></pre></div>
<pre class="Rout"><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb69-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(vector_with_na) </span></code></pre></div>
<pre class="Rout"><code>## [1] NA</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb71-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The summary of the vector will have NA as part of the output</span></span>
<span id="cb71-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(vector_with_na) </span></code></pre></div>
<pre class="Rout"><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA&#39;s 
##    1.00    3.25    5.50    5.50    7.75   10.00       1</code></pre>
<p>There are several ways of dealing with <a href="https://en.wikipedia.org/wiki/Missing_data">missing data</a> and which one is best will depend on why the data is missing. This is beyond the scope of the current course. The most common method is to just ignore the missing values. This can be a reasonable strategy.</p>
<p>There are several solutions to ignore missing values in R objects:</p>
<ul>
<li>Create a vector without the missing values.</li>
<li>Ignoring the NA values during the calculation.</li>
</ul>
</div>
<div id="example-5" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb73"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb73-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new vector without NA values</span></span>
<span id="cb73-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="co"># NB1: we use the square brackets to select a part of vector_with_na[] </span></span>
<span id="cb73-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="co"># NB2: is.na() searches for NA values </span></span>
<span id="cb73-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="co"># NB3: the exclamation mark ! in front of is.na() means &quot;not&quot; </span></span>
<span id="cb73-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="co"># !is.na() searches for non NA values (of the vector vector_with_na)</span></span>
<span id="cb73-6"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb73-6" aria-hidden="true" tabindex="-1"></a>vector_without_na <span class="ot">&lt;-</span> vector_with_na[<span class="sc">!</span><span class="fu">is.na</span>(vector_with_na)] </span>
<span id="cb73-7"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb73-7" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(vector_without_na)</span></code></pre></div>
<pre class="Rout"><code>## [1] 5.5</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb75-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the na.omit() function to remove NA values from a vector</span></span>
<span id="cb75-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb75-2" aria-hidden="true" tabindex="-1"></a>vector_without_na <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(vector_with_na)  </span>
<span id="cb75-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(vector_without_na)</span></code></pre></div>
<pre class="Rout"><code>## [1] 5.5</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb77-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the na.rm option within the sum() function to ignore the NA values</span></span>
<span id="cb77-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(vector_with_na, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  </span></code></pre></div>
<pre class="Rout"><code>## [1] 55</code></pre>
</div>
</div>
<div id="more-complicated-data" class="section level2">
<h2>More complicated data</h2>
<p>Usually, our datasets are more complicated than just a vector.</p>
</div>
<div id="lists" class="section level2">
<h2>Lists</h2>
<p>Many datasets in R are stored as lists. A <strong>list</strong> is a collection of vectors and lists of any length and data type. Lists can contain:</p>
<ul>
<li>Single values of different types (single values are actually vectors with 1 element).</li>
<li>A combination of vectors each with a different data type and length.</li>
<li>Other lists (which may contain vectors and other lists).</li>
<li>Any combination of the above.</li>
</ul>
<p>Lists provide a way of storing hierarchical complex data (like the folder/subfolder structure on your computer with combinations of different file types and the number of files in each folder/subfolder). A list is created with the function <code>list()</code>.
The structure of a list can be checked by the function <code>str()</code>. To check if an object is a list use <code>is.list()</code> or <code>class()</code>.</p>
<div id="example-6" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb79"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb79-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list composed of a numeric, character, vector, and  logical element</span></span>
<span id="cb79-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb79-2" aria-hidden="true" tabindex="-1"></a>list_1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="st">&quot;bert&quot;</span>, <span class="fu">c</span>( <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> ), <span class="cn">TRUE</span>)</span>
<span id="cb79-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb79-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(list_1)</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb81-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.list</span>(list_1)</span></code></pre></div>
<pre class="Rout"><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb83-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show for each element of the list the type of data</span></span>
<span id="cb83-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(list_1)</span></code></pre></div>
<pre class="Rout"><code>## List of 4
##  $ : num 1
##  $ : chr &quot;bert&quot;
##  $ : int [1:10] 1 2 3 4 5 6 7 8 9 10
##  $ : logi TRUE</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb85-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add object list_1 as an element to list_2</span></span>
<span id="cb85-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb85-2" aria-hidden="true" tabindex="-1"></a>list_2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">2</span>, <span class="st">&quot;ernie&quot;</span>, <span class="fu">c</span>( <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span> ), <span class="cn">FALSE</span>, list_1) </span>
<span id="cb85-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(list_2)</span></code></pre></div>
<pre class="Rout"><code>## List of 5
##  $ : num 2
##  $ : chr &quot;ernie&quot;
##  $ : int [1:10] 11 12 13 14 15 16 17 18 19 20
##  $ : logi FALSE
##  $ :List of 4
##   ..$ : num 1
##   ..$ : chr &quot;bert&quot;
##   ..$ : int [1:10] 1 2 3 4 5 6 7 8 9 10
##   ..$ : logi TRUE</code></pre>
</div>
<div id="selecting-list-elements" class="section level3">
<h3>Selecting list elements</h3>
<p>To select element(s) of an R list we use square brackets for indexing: [index]. Element(s) that are subtracted from a list using the square brackets are returned as a separate list.</p>
<div id="example-7" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb87"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb87-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Select 2 elements (elements 1 and 2) from list_2</span></span>
<span id="cb87-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb87-2" aria-hidden="true" tabindex="-1"></a>list_2_element_1_2 <span class="ot">&lt;-</span> list_2[<span class="fu">c</span>( <span class="dv">1</span>,<span class="dv">2</span> )] </span>
<span id="cb87-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(list_2_element_1_2)</span></code></pre></div>
<pre class="Rout"><code>## List of 2
##  $ : num 2
##  $ : chr &quot;ernie&quot;</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb89-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(list_2_element_1_2)  </span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;list&quot;</code></pre>
<p>To select element(s) of an R list we can also use double square brackets for indexing: [[index]]. Element(s) that are subtracted from a list using double square brackets are not returned as a separate list. In other words the returned element is not part of a list anymore. This way we can easily substract elements of an element from a list (to get deeper in the hierarchical data structure).</p>
</div>
<div id="example-8" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb91"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb91-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use single square brackets [index]</span></span>
<span id="cb91-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb91-2" aria-hidden="true" tabindex="-1"></a>list_2_element3 <span class="ot">&lt;-</span> list_2[<span class="dv">3</span>]                   </span>
<span id="cb91-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(list_2_element3)</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb93-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use double square brackets [[index]]</span></span>
<span id="cb93-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb93-2" aria-hidden="true" tabindex="-1"></a>list_2_element3 <span class="ot">&lt;-</span>list_2[[ <span class="dv">3</span> ]]                  </span>
<span id="cb93-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(list_2_element3)</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb95-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb95-1" aria-hidden="true" tabindex="-1"></a>list_2[[<span class="dv">3</span>]][<span class="dv">5</span>]   </span></code></pre></div>
<pre class="Rout"><code>## [1] 15</code></pre>
</div>
<div id="exercise-1-4" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p>Write R code to create a list containing the following 5 elements:</p>
<ul>
<li>a vector containing the sequence 1 to 360 with stepsize 1;</li>
<li>a vector containing the alphabet in capital letters;</li>
<li>a vector containing 2pi / divided by each element of the sequence 1 to 360 with stepsize 1;</li>
<li>a vector containing the first 20 numbers of the exponential sequence 2n (2, 4, 8, 16 and so on);</li>
<li>and a list containing the following 3 elements:
<ul>
<li>a vector containing “Hello,”;</li>
<li>a vector containing “World”;</li>
<li>and a vector containing the log10 values of the sequence 1 to 100 with stepsize 1.</li>
</ul></li>
</ul>
</div>
<details>
<summary>
Click for the answer
</summary>
<div class="sourceCode" id="cb97"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb97-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb97-1" aria-hidden="true" tabindex="-1"></a>list_4<span class="fl">.1</span> <span class="ot">&lt;-</span><span class="fu">list</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">360</span>,</span>
<span id="cb97-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb97-2" aria-hidden="true" tabindex="-1"></a>                LETTERS,</span>
<span id="cb97-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb97-3" aria-hidden="true" tabindex="-1"></a>                <span class="dv">2</span><span class="sc">*</span>pi<span class="sc">/</span><span class="dv">1</span><span class="sc">:</span><span class="dv">360</span>,</span>
<span id="cb97-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb97-4" aria-hidden="true" tabindex="-1"></a>                <span class="dv">2</span><span class="sc">^</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>),</span>
<span id="cb97-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb97-5" aria-hidden="true" tabindex="-1"></a>                <span class="fu">list</span>(<span class="st">&quot;Hello,&quot;</span>,</span>
<span id="cb97-6"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb97-6" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;World&quot;</span>,</span>
<span id="cb97-7"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb97-7" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">log10</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>)</span>
<span id="cb97-8"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb97-8" aria-hidden="true" tabindex="-1"></a>                     )</span>
<span id="cb97-9"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb97-9" aria-hidden="true" tabindex="-1"></a>                )</span></code></pre></div>
</details>
<div id="exercise-1-5" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<ol style="list-style-type: lower-alpha">
<li>Extract the value of 2^10 from the list of the previous exercise using indices.</li>
<li>Extract the value of log10(99) from the list of the previous exercise using indices.</li>
</ol>
</div>
<details>
<summary>
Click for the answer
</summary>
<ol style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb98"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb98-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb98-1" aria-hidden="true" tabindex="-1"></a>list_4<span class="fl">.1</span>[[<span class="dv">4</span>]][<span class="dv">10</span>]</span></code></pre></div>
<pre class="Rout"><code>## [1] 1024</code></pre>
<ol start="2" style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb100"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb100-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb100-1" aria-hidden="true" tabindex="-1"></a>list_4<span class="fl">.1</span>[[<span class="dv">5</span>]][[<span class="dv">3</span>]][<span class="dv">99</span>]</span></code></pre></div>
<pre class="Rout"><code>## [1] 1.995635</code></pre>
</details>
</div>
<div id="headers" class="section level3">
<h3>Headers</h3>
<p>It is good practice to name the different elements of a list with headers. The headers are very useful in referring to the different elements in the list by using indexing as shown for the vectors.</p>
<div id="example-9" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb102"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb102-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list with named elements &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; and &quot;e&quot;</span></span>
<span id="cb102-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb102-2" aria-hidden="true" tabindex="-1"></a>list_3 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">2</span>, <span class="at">b =</span> <span class="st">&quot;ernie&quot;</span>, <span class="at">c =</span> <span class="fu">c</span>(<span class="dv">11</span><span class="sc">:</span><span class="dv">20</span>), </span>
<span id="cb102-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb102-3" aria-hidden="true" tabindex="-1"></a>               <span class="at">d =</span> <span class="cn">FALSE</span>, <span class="at">e =</span> list_1) </span>
<span id="cb102-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb102-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb102-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract an element by refering to the name of the element</span></span>
<span id="cb102-6"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb102-6" aria-hidden="true" tabindex="-1"></a>list_3[[<span class="st">&quot;a&quot;</span>]] </span></code></pre></div>
<pre class="Rout"><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb104-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if elements of a list have names</span></span>
<span id="cb104-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(list_3) </span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot;</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb106-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Change the name of the 4th element of list_3 to &quot;pino&quot;</span></span>
<span id="cb106-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(list_3)[<span class="dv">4</span>] <span class="ot">&lt;-</span> <span class="st">&quot;pino&quot;</span> </span>
<span id="cb106-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb106-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(list_3)</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;a&quot;    &quot;b&quot;    &quot;c&quot;    &quot;pino&quot; &quot;e&quot;</code></pre>
<p>An alternative way of extracting elements of a “named” list is to directly refer to the name of an element using the $ sign. It works similar as the double square brackets [[index]] but without the quotes.</p>
</div>
<div id="example-10" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb108"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb108-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the $ sign to extract a named element from a list</span></span>
<span id="cb108-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb108-2" aria-hidden="true" tabindex="-1"></a>list_3<span class="sc">$</span>a </span></code></pre></div>
<pre class="Rout"><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb110-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb110-1" aria-hidden="true" tabindex="-1"></a>list_3<span class="sc">$</span>e[[<span class="dv">3</span>]][<span class="dv">10</span>]</span></code></pre></div>
<pre class="Rout"><code>## [1] 10</code></pre>
</div>
</div>
</div>
<div id="dataframes" class="section level2">
<h2>Dataframes</h2>
<p>Experimental data is often organized into a <strong>dataframe</strong>: rows represent all the <strong>observations</strong> of a single unique “entity”. Each column represents a variable and the data values of each column are stored as a vector of equal length (in contrast to the list structure which can contain vectors or list of any length). You will have encoutered this 2-dimensional format before when using Excel or SPSS. Separate columns can store different kinds of values such as numeric or characters, but within a column the values are of the same type.</p>
<p>Below you can see an example of a dataframe:</p>
<table>
<thead>
<tr class="header">
<th align="left">sample</th>
<th align="left">treatment</th>
<th align="right">weight</th>
<th align="left">blood_pressure</th>
<th align="right">cholesterol</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">human1</td>
<td align="left">control</td>
<td align="right">80</td>
<td align="left">80/120</td>
<td align="right">20</td>
</tr>
<tr class="even">
<td align="left">human2</td>
<td align="left">control</td>
<td align="right">82</td>
<td align="left">85/110</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">human3</td>
<td align="left">control</td>
<td align="right">78</td>
<td align="left">78/115</td>
<td align="right">32</td>
</tr>
<tr class="even">
<td align="left">human4</td>
<td align="left">50 ng/mg</td>
<td align="right">76</td>
<td align="left">90/125</td>
<td align="right">45</td>
</tr>
<tr class="odd">
<td align="left">human5</td>
<td align="left">50 ng/mg</td>
<td align="right">83</td>
<td align="left">92/120</td>
<td align="right">43</td>
</tr>
<tr class="even">
<td align="left">human6</td>
<td align="left">50 ng/mg</td>
<td align="right">81</td>
<td align="left">87/119</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>In R, several functions for dataframes are available:</p>
<ul>
<li><code>data.frame()</code> is used to create a dataframe.</li>
<li><code>str()</code> is used to check the structure of a dataframe.</li>
<li>You can check if an R object is a dataframe using <code>is.data.frame()</code> or <code>class()</code>.</li>
<li><code>dim()</code> can be used to check the dimensions of the dataframe.</li>
<li><code>names()</code> can be used to check to column names (names of the variables).</li>
<li><code>View()</code> can be used to see the contents of a dataframe as a spreadsheet in R studio.</li>
<li>You can see the first part of the dataframe using <code>head()</code>; similarly, you can see the last part of the dataframe using <code>tail()</code>.</li>
</ul>
<div id="example-11" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb112"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb112-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb112-1" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span><span class="fu">data.frame</span>(<span class="at">var1 =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">var2 =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;e&quot;</span>), <span class="at">var3 =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;bert&quot;</span>, <span class="dv">3</span>) , <span class="fu">rep</span>(<span class="st">&quot;ernie&quot;</span>, <span class="dv">2</span>)))</span>
<span id="cb112-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb112-2" aria-hidden="true" tabindex="-1"></a>df1</span></code></pre></div>
<pre class="Rout"><code>##   var1 var2  var3
## 1    1    a  bert
## 2    2    b  bert
## 3    3    c  bert
## 4    4    d ernie
## 5    5    e ernie</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb114-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># R has some built-in datasets, like mtcars, which are dataframes</span></span>
<span id="cb114-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb114-2" aria-hidden="true" tabindex="-1"></a>mtcars </span></code></pre></div>
<pre class="Rout"><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb116-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mtcars)</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb118-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the first 6 lines of the dataframe</span></span>
<span id="cb118-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mtcars)</span></code></pre></div>
</div>
<div id="data-analysis-using-dataframes" class="section level3">
<h3>Data analysis using dataframes</h3>
<p>After the initial inspection of the dataframe, we start with the actual data analysis and ask interesting questions. For example, for the mtcars dataset, we can ask the following questions:</p>
<ul>
<li>What is the average of the mpg?</li>
<li>What is the min / max value of the hp?</li>
<li>What is the correlation between hp and mpg?</li>
<li>What is the difference in mpg between cars with different gears (using a boxplot)?</li>
</ul>
<p>We can also calculate for each variable in the dataset a summary (see example below).</p>
<div id="example-12" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb119"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb119-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use the $ sign to select a variable</span></span>
<span id="cb119-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(mtcars<span class="sc">$</span>mpg)</span></code></pre></div>
<pre class="Rout"><code>## [1] 20.09062</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb121-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(mtcars<span class="sc">$</span>hp)</span></code></pre></div>
<pre class="Rout"><code>## [1] 335</code></pre>
<div class="sourceCode" id="cb123"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb123-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the package tidyverse to use the ggplot() function</span></span>
<span id="cb123-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (NB: we will explain ggplot() in the next lessons)</span></span>
<span id="cb123-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb123-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb123-4" aria-hidden="true" tabindex="-1"></a>mtcars <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> hp, <span class="at">y =</span> mpg)) <span class="sc">+</span>   </span>
<span id="cb123-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb123-5" aria-hidden="true" tabindex="-1"></a>           <span class="fu">geom_point</span>() <span class="sc">+</span>  </span>
<span id="cb123-6"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb123-6" aria-hidden="true" tabindex="-1"></a>           <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="_main_files/figure-html/unnamed-chunk-63-1.png" width="672" /></p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb125-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(mtcars)</span></code></pre></div>
<pre class="Rout"><code>##       mpg             cyl             disp             hp             drat             wt       
##  Min.   :10.40   Min.   :4.000   Min.   : 71.1   Min.   : 52.0   Min.   :2.760   Min.   :1.513  
##  1st Qu.:15.43   1st Qu.:4.000   1st Qu.:120.8   1st Qu.: 96.5   1st Qu.:3.080   1st Qu.:2.581  
##  Median :19.20   Median :6.000   Median :196.3   Median :123.0   Median :3.695   Median :3.325  
##  Mean   :20.09   Mean   :6.188   Mean   :230.7   Mean   :146.7   Mean   :3.597   Mean   :3.217  
##  3rd Qu.:22.80   3rd Qu.:8.000   3rd Qu.:326.0   3rd Qu.:180.0   3rd Qu.:3.920   3rd Qu.:3.610  
##  Max.   :33.90   Max.   :8.000   Max.   :472.0   Max.   :335.0   Max.   :4.930   Max.   :5.424  
##       qsec             vs               am              gear            carb      
##  Min.   :14.50   Min.   :0.0000   Min.   :0.0000   Min.   :3.000   Min.   :1.000  
##  1st Qu.:16.89   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:3.000   1st Qu.:2.000  
##  Median :17.71   Median :0.0000   Median :0.0000   Median :4.000   Median :2.000  
##  Mean   :17.85   Mean   :0.4375   Mean   :0.4062   Mean   :3.688   Mean   :2.812  
##  3rd Qu.:18.90   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:4.000   3rd Qu.:4.000  
##  Max.   :22.90   Max.   :1.0000   Max.   :1.0000   Max.   :5.000   Max.   :8.000</code></pre>
<!--  ```{r echo = FALSE} -->
<!--  knitr::kable(df) -->
<!--  ``` -->
<!-- <div class="question"> -->
<!-- ##### Exercise 1 {-}  {#dataframe_question} -->
<!-- Make the example dataframe (see above; the dataset with the blood values for different humans) in R.  -->
<!-- </div> -->
<!-- <details><summary>Click for the answer</summary> -->
<!-- ```{r} -->
<!-- df <- data.frame( -->
<!--   sample = paste0('human', 1:6), -->
<!--   treatment = c(rep('control', 3), rep('50 ng/mg', 3)),  -->
<!--   weight = c(80, 82, 78, 76, 83, 81),  -->
<!--   blood_pressure = c('80/120', '85/110', '78/115', '90/125', '92/120', '87/119'), -->
<!--   cholesterol = c(20, 25, 32, 45, 43, NA) -->
<!-- ) -->
<!-- ``` -->
<!-- </details> -->
<!-- <div class="question"> -->
<!-- ##### Exercise 1 {-}  -->
<!-- (a) What are the data types in each column of the dataframe of the previous exercise? -->
<!-- (b) Are the data types of each column similar to what you expect? -->
<!-- </div> -->
<!-- <details><summary>Click for the answer</summary> -->
<!-- (a): -->
<!-- ```{r} -->
<!-- str(df) -->
<!-- typeof(df) -->
<!-- ``` -->
<!-- </details> -->
</div>
</div>
</div>
<div id="tibbles" class="section level2">
<h2>Tibbles</h2>
<p>Dataframes are part of base R and have some typical behaviors which are not always useful. During this course, we will extensively work with the tidyverse package. To make dataframes compatible with the tidyverse package, we have to change an R base dataframe to a tibble. A <strong>tibble</strong> is also a dataframe but with different behavior.</p>
<p>There are several useful functions when working with tibbles:</p>
<ul>
<li><code>tibble()</code> can be used to create tibbles from scratch.</li>
<li><code>as_tibble()</code> can be used to convert an existing dataframe to a tibble. By default, the function removes rownames, if they were present. Tibbles do not support rownames: all values, including rownames, are stored in vectors of equal length as variables.</li>
<li>You can check if an object is a tibble using <code>is_tibble()</code> or <code>class()</code>.</li>
</ul>
<div id="example-13" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb127"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb127-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<div class="sourceCode" id="cb128"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb128-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new tibble object with three columns</span></span>
<span id="cb128-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb128-2" aria-hidden="true" tabindex="-1"></a>tibble_1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">number =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">letters =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>], <span class="at">random =</span> <span class="fu">runif</span>(<span class="dv">10</span>))  </span>
<span id="cb128-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="fu">is_tibble</span>(tibble_1)</span></code></pre></div>
<pre class="Rout"><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb130-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show Rstudio spreadsheet of the mtcars dataframe including rows</span></span>
<span id="cb130-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(mtcars) </span></code></pre></div>
<div class="sourceCode" id="cb131"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb131-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the data structure of the object</span></span>
<span id="cb131-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mtcars)  </span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb133-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert an existing R dataframe to a tibble</span></span>
<span id="cb133-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb133-2" aria-hidden="true" tabindex="-1"></a>tibble_2 <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(mtcars)  </span>
<span id="cb133-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb133-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(tibble_2)</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb135"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb135-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Show first rows of the tibble structure</span></span>
<span id="cb135-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb135-2" aria-hidden="true" tabindex="-1"></a>tibble_2 </span></code></pre></div>
<pre class="Rout"><code>## # A tibble: 32 × 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
##  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
##  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
##  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
##  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
##  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
##  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
##  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
## 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
## # … with 22 more rows</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb137-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select a specific variable of the tibble with the $ sign</span></span>
<span id="cb137-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb137-2" aria-hidden="true" tabindex="-1"></a>tibble_2<span class="sc">$</span>gear</span></code></pre></div>
<pre class="Rout"><code>##  [1] 4 4 4 3 3 3 3 4 4 4 4 3 3 3 3 3 3 4 4 4 3 3 3 3 3 4 5 5 5 5 5 4</code></pre>
<p>It is possible for a tibble to have column names that are not valid R variable names, a.k.a. non-syntactic names. For example, they might not start with a letter, or they might contain unusual characters like a space. <em>To refer to these variables, you need to surround them with backticks:</em> `. You will use it later in the course.</p>
</div>
<div id="example-14" class="section level6">
<h6>Example</h6>
<div class="sourceCode" id="cb139"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb139-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb139-1" aria-hidden="true" tabindex="-1"></a>weird_column_names <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="st">`</span><span class="at">0</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="st">`</span><span class="at">@</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">seq</span>(<span class="dv">102</span>, <span class="dv">120</span>, <span class="dv">2</span>), <span class="st">`</span><span class="at">&amp;*(</span><span class="st">`</span> <span class="ot">=</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb139-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(weird_column_names)</span></code></pre></div>
<pre class="Rout"><code>## [1] &quot;0&quot;   &quot;@&quot;   &quot;&amp;*(&quot;</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb141-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb141-1" aria-hidden="true" tabindex="-1"></a>weird_column_names<span class="sc">$</span><span class="st">`</span><span class="at">&amp;*(</span><span class="st">`</span></span></code></pre></div>
<pre class="Rout"><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot;</code></pre>
<!-- By using tibbles we can apply functions of the tidyverse packages. These functions will be further explained in lesson 5. For example, we can calculate the average "mpg" based on the number of gears in the cars (see example below). -->
<!-- ###### Example -->
<!-- ```{r} -->
<!-- tibble_2 %>% group_by(gear) %>% summarize(average = mean(mpg, na.rm = TRUE)) -->
<!-- ``` -->
<!-- <div class="question"> -->
<!-- ##### Exercise 1 {-}  -->
<!-- (a) Make a tibble of the example dataframe in the section 'Dataframes' (see also [this dataframe exercise](#dataframe_question)). -->
<!-- (b) What are now the data types in each column of the tibble? -->
<!-- </div> -->
<!-- <details><summary>Click for the answer</summary> -->
<!-- (a) -->
<!-- ```{r} -->
<!-- ex7_tbl <- tibble( -->
<!--   sample = paste0('human', 1:6), -->
<!--   treatment = c(rep('control', 3), rep('50 ng/mg', 3)),  -->
<!--   weight = c(80, 82, 78, 76, 83, 81),  -->
<!--   blood_pressure = c('80/120', '85/110', '78/115', '90/125', '92/120', '87/119'), -->
<!--   cholesterol = c(20, 25, 32, 45, 43, NA) -->
<!-- ) -->
<!-- ``` -->
<!-- (b) -->
<!-- ```{r} -->
<!-- ex7_tbl -->
<!-- ``` -->
<!-- </details> -->
</div>
</div>
<div id="factors" class="section level2">
<h2>Factors</h2>
<p>Experimental research involves “entities” that are measured. What is being measured (the variable) depends on the research question: what do we want to know of the “entity”? Many variables are continuous variables: the value is obtained by measurement and can be any value within a certain range (e.g. blood pressure, weight,concentration of bacterial toxins etc.).</p>
<p>Variables can also be <strong>categorical</strong>. Categorical variables take on values (<strong>levels</strong>) that are names. The names have a fixed number of possibilities such as gender (male, female), political party, type of car, color.</p>
<p>When dealing with categorical data, you could use vectors with “character” elements to describe the different levels of categorical data, like you would for example in Excel. However in R, <strong>factors</strong> can be used to describe the different levels of categorical data. To work with factors, we will use the forcats package (which is regrettably not about cats but about categorical data):</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb143-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># first load the package (and tidyverse too for good measure)</span></span>
<span id="cb143-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb143-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb143-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span></code></pre></div>
<p>With factors, we can:</p>
<ul>
<li>control the sorting behavior of the categorical levels;</li>
<li>modify categorical levels;</li>
<li>and prevent typos in the categorical levels.</li>
</ul>
<p>Let’s demonstrate the behavior of factors with an example. A researcher wants to know which month has the highest flu incidence rate in the Netherlands and counts for each month the number of registered people with flu.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb144-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb144-1" aria-hidden="true" tabindex="-1"></a>flu_month <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">patient =</span> <span class="fu">paste0</span>(<span class="fu">c</span>(<span class="st">&quot;patient&quot;</span>), <span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>),</span>
<span id="cb144-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb144-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">month =</span> <span class="fu">c</span>(<span class="st">&quot;jan&quot;</span>, <span class="st">&quot;jam&quot;</span>, <span class="st">&quot;mar&quot;</span>, <span class="st">&quot;nov&quot;</span>, <span class="st">&quot;nov&quot;</span>, <span class="st">&quot;dec&quot;</span>, <span class="st">&quot;feb&quot;</span>, </span>
<span id="cb144-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb144-3" aria-hidden="true" tabindex="-1"></a>                              <span class="st">&quot;apr&quot;</span>, <span class="st">&quot;jun&quot;</span>, <span class="st">&quot;sept&quot;</span>, <span class="st">&quot;dec&quot;</span>, <span class="st">&quot;feb&quot;</span>, <span class="st">&quot;aug&quot;</span>, <span class="st">&quot;may&quot;</span>, </span>
<span id="cb144-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb144-4" aria-hidden="true" tabindex="-1"></a>                              <span class="st">&quot;jul&quot;</span>, <span class="st">&quot;sep&quot;</span>))</span>
<span id="cb144-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb144-5" aria-hidden="true" tabindex="-1"></a>flu_month</span></code></pre></div>
<pre class="Rout"><code>## # A tibble: 16 × 2
##    patient   month
##    &lt;chr&gt;     &lt;chr&gt;
##  1 patient1  jan  
##  2 patient2  jam  
##  3 patient3  mar  
##  4 patient4  nov  
##  5 patient5  nov  
##  6 patient6  dec  
##  7 patient7  feb  
##  8 patient8  apr  
##  9 patient9  jun  
## 10 patient10 sept 
## 11 patient11 dec  
## 12 patient12 feb  
## 13 patient13 aug  
## 14 patient14 may  
## 15 patient15 jul  
## 16 patient16 sep</code></pre>
<p>There are three problems with this dataset:</p>
<ol style="list-style-type: decimal">
<li>If we want to summarize the data, the variable “month” is ordered alphabetically.</li>
<li>One month is misspelled as “jam”.</li>
<li>One month is spelled as “sep” or “sept”.</li>
</ol>
<p>Let’s summarise the data with the function <code>count()</code>.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb146-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb146-1" aria-hidden="true" tabindex="-1"></a>flu_month <span class="sc">%&gt;%</span> <span class="fu">count</span>(month)</span></code></pre></div>
<pre class="Rout"><code>## # A tibble: 13 × 2
##    month     n
##    &lt;chr&gt; &lt;int&gt;
##  1 apr       1
##  2 aug       1
##  3 dec       2
##  4 feb       2
##  5 jam       1
##  6 jan       1
##  7 jul       1
##  8 jun       1
##  9 mar       1
## 10 may       1
## 11 nov       2
## 12 sep       1
## 13 sept      1</code></pre>
<p>The <code>count()</code> function returns the month in alphabetical order which is not useful. Also, there are two levels for January: “jam” and “jan” each with a value. In addition, there are two levels for September: “sep” and “sept” each with a value.</p>
<p>To prevent these issues, we can create a factor data structure. On forehand, levels of the categorical variable are defined with a character vector. To view the values in the dataset that are not part of the predefined level list, we can use the function <code>parse_factor()</code>. This function comes with two arguments:</p>
<ul>
<li>a character vector to be analyzed;</li>
<li>and the levels of the categorical value.</li>
</ul>
<div class="sourceCode" id="cb148"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb148-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector containing the level definition</span></span>
<span id="cb148-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb148-2" aria-hidden="true" tabindex="-1"></a>month_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;jan&quot;</span>, <span class="st">&quot;feb&quot;</span>, <span class="st">&quot;mar&quot;</span>, <span class="st">&quot;apr&quot;</span>, <span class="st">&quot;may&quot;</span> ,<span class="st">&quot;jun&quot;</span>, </span>
<span id="cb148-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb148-3" aria-hidden="true" tabindex="-1"></a>                  <span class="st">&quot;jul&quot;</span>, <span class="st">&quot;aug&quot;</span>, <span class="st">&quot;sep&quot;</span>, <span class="st">&quot;oct&quot;</span>, <span class="st">&quot;nov&quot;</span>, <span class="st">&quot;dec&quot;</span>) </span>
<span id="cb148-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb148-4" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_factor</span>(flu_month<span class="sc">$</span>month, <span class="at">levels =</span> month_levels)</span></code></pre></div>
<pre><code>## Warning: 2 parsing failures.
## row col           expected actual
##   2  -- value in level set   jam 
##  10  -- value in level set   sept</code></pre>
<pre class="Rout"><code>##  [1] jan  &lt;NA&gt; mar  nov  nov  dec  feb  apr  jun  &lt;NA&gt; dec  feb  aug  may  jul  sep 
## attr(,&quot;problems&quot;)
## # A tibble: 2 × 4
##     row   col expected           actual
##   &lt;int&gt; &lt;int&gt; &lt;chr&gt;              &lt;chr&gt; 
## 1     2    NA value in level set jam   
## 2    10    NA value in level set sept  
## Levels: jan feb mar apr may jun jul aug sep oct nov dec</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb151-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correct the misspellings</span></span>
<span id="cb151-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb151-2" aria-hidden="true" tabindex="-1"></a>flu_month<span class="sc">$</span>month[flu_month<span class="sc">$</span>month<span class="sc">==</span><span class="st">&quot;jam&quot;</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;jan&quot;</span>) </span>
<span id="cb151-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb151-3" aria-hidden="true" tabindex="-1"></a>flu_month<span class="sc">$</span>month[flu_month<span class="sc">$</span>month<span class="sc">==</span><span class="st">&quot;sept&quot;</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;sep&quot;</span>) </span></code></pre></div>
<p>We can now convert the character variable “month” to a factor variable:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb152-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the variable &#39;month&#39; to a factor</span></span>
<span id="cb152-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb152-2" aria-hidden="true" tabindex="-1"></a>flu_month<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">factor</span>(flu_month<span class="sc">$</span>month, <span class="at">levels =</span> month_levels) </span>
<span id="cb152-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb152-3" aria-hidden="true" tabindex="-1"></a>flu_month</span></code></pre></div>
<pre class="Rout"><code>## # A tibble: 16 × 2
##    patient   month
##    &lt;chr&gt;     &lt;fct&gt;
##  1 patient1  jan  
##  2 patient2  jan  
##  3 patient3  mar  
##  4 patient4  nov  
##  5 patient5  nov  
##  6 patient6  dec  
##  7 patient7  feb  
##  8 patient8  apr  
##  9 patient9  jun  
## 10 patient10 sep  
## 11 patient11 dec  
## 12 patient12 feb  
## 13 patient13 aug  
## 14 patient14 may  
## 15 patient15 jul  
## 16 patient16 sep</code></pre>
<p>To view the levels of a “factor” variable use the function <code>levels()</code>:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb154-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(flu_month<span class="sc">$</span>month)</span></code></pre></div>
<pre class="Rout"><code>##  [1] &quot;jan&quot; &quot;feb&quot; &quot;mar&quot; &quot;apr&quot; &quot;may&quot; &quot;jun&quot; &quot;jul&quot; &quot;aug&quot; &quot;sep&quot; &quot;oct&quot; &quot;nov&quot; &quot;dec&quot;</code></pre>
<p>Let’s summarise the data again with the function <code>count()</code>:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb156-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb156-1" aria-hidden="true" tabindex="-1"></a>flu_month <span class="sc">%&gt;%</span> <span class="fu">count</span>(month)</span></code></pre></div>
<pre class="Rout"><code>## # A tibble: 11 × 2
##    month     n
##    &lt;fct&gt; &lt;int&gt;
##  1 jan       2
##  2 feb       2
##  3 mar       1
##  4 apr       1
##  5 may       1
##  6 jun       1
##  7 jul       1
##  8 aug       1
##  9 sep       2
## 10 nov       2
## 11 dec       2</code></pre>
<p>The months are now in the right order. Note that October is omitted because no values were recorded for this month.</p>
</div>
<div id="using-functions-drc" class="section level2">
<h2>using functions: drc</h2>
<p>We will use the <code>drc</code> package for the following exercises. Packages contain functions and data, and can be installed using the command line (or click tools –&gt; install packages):</p>
<p>Type and run in the console to install and load the drc package:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb158-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;drc&quot;</span>)</span>
<span id="cb158-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(drc)</span></code></pre></div>
<p>This package contains functions and data for the analysis of dose-response curves. For instance, it contains a dataset of part of a study to investigate the joint action of phenolic acids on root growth inhibition of perennial ryegrass (<em>Lolium perenne L</em>).</p>
<p>Look at the data by typing <code>ryegrass</code> in the console.</p>
<p>You will see a dataset with 24 measurements and 2 variables.</p>
<p>rootl is the root length of perennial ryegrass measured in cm., conc is the concentration of ferulic acid is in mM.</p>
<div id="exercise-1-6" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p>Using a function, calculate the avergae root length of the measured plants.</p>
</div>
<details>
<summary>
Click for the answer
</summary>
<div class="sourceCode" id="cb159"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb159-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(drc)</span>
<span id="cb159-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb159-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb159-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(ryegrass<span class="sc">$</span>rootl)</span></code></pre></div>
<pre class="Rout"><code>## [1] 4.327204</code></pre>
</div>
<p>With a few lines of code, we can ask R to fit a 4-parameter log-logistic model to the data, and give us a dose response curve.</p>
<p>We use the function <code>drm()</code> (Dose Response Model), which takes in this case 3 inputs:</p>
<ul>
<li>formula : which effect are we interested in?</li>
<li>data: which data to use</li>
<li>fct: which function to fit</li>
</ul>
<div class="sourceCode" id="cb161"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb161-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb161-1" aria-hidden="true" tabindex="-1"></a>model<span class="ot">&lt;-</span> <span class="fu">drm</span>(<span class="at">formula =</span> rootl<span class="sc">~</span>conc, <span class="co"># we are interested in rootlength as a function of (~) concentration</span></span>
<span id="cb161-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb161-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">data=</span>ryegrass, <span class="co"># input</span></span>
<span id="cb161-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb161-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">fct=</span><span class="fu">LL.4</span>(<span class="at">names =</span> <span class="fu">c</span>(<span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;Lower Limit&quot;</span>, <span class="st">&quot;Upper Limit&quot;</span>, <span class="st">&quot;ED50&quot;</span>))) </span>
<span id="cb161-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb161-4" aria-hidden="true" tabindex="-1"></a>            <span class="co">#LL.4 means 4-parameter log-logistic</span></span>
<span id="cb161-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb161-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-6"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb161-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code></pre></div>
<pre class="Rout"><code>## 
## Model fitted: Log-logistic (ED50 as parameter) (4 parms)
## 
## Parameter estimates:
## 
##                         Estimate Std. Error t-value   p-value    
## Slope:(Intercept)        2.98222    0.46506  6.4125 2.960e-06 ***
## Lower Limit:(Intercept)  0.48141    0.21219  2.2688   0.03451 *  
## Upper Limit:(Intercept)  7.79296    0.18857 41.3272 &lt; 2.2e-16 ***
## ED50:(Intercept)         3.05795    0.18573 16.4644 4.268e-13 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error:
## 
##  0.5196256 (20 degrees of freedom)</code></pre>
<p>And we can plot our model by using the plot() function. The plot will appear in the lower right of your screen.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb163-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model, <span class="at">type=</span><span class="st">&quot;all&quot;</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-79-1.png" width="672" /></p>
<p>You can also calculate the EC10, EC20, EC50 etc with the ED() function. (type <code>?ED</code> in the console to see why we set the type of confidence interval to “delta”. )</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb164-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ED</span>(model, <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">50</span>), <span class="at">interval=</span><span class="st">&quot;delta&quot;</span>)</span></code></pre></div>
<pre class="Rout"><code>## 
## Estimated effective doses
## 
##        Estimate Std. Error   Lower   Upper
## e:1:10  1.46371    0.18677 1.07411 1.85330
## e:1:20  1.92109    0.17774 1.55032 2.29186
## e:1:50  3.05795    0.18573 2.67053 3.44538</code></pre>
<p>Of course, you can compare different models (see <code>getMeanFunctions()</code> for a complete list). for instance:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb166-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co"># W2.3: a weibull type 2 function with 4 parameters</span></span>
<span id="cb166-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-3" aria-hidden="true" tabindex="-1"></a>model.W24 <span class="ot">&lt;-</span>  <span class="fu">drm</span>(rootl<span class="sc">~</span>conc, <span class="at">data=</span>toxdata, <span class="at">fct=</span><span class="fu">W2.4</span>(<span class="at">names =</span> <span class="fu">c</span>(<span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;Lower Limit&quot;</span>, <span class="st">&quot;Upper Limit&quot;</span>, <span class="st">&quot;ED50&quot;</span>)))</span>
<span id="cb166-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-6"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-6" aria-hidden="true" tabindex="-1"></a><span class="co"># a Log logistic model with 3 parameters</span></span>
<span id="cb166-7"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-7" aria-hidden="true" tabindex="-1"></a><span class="co"># (3 parameters means fixing the lower limit at zero. Which makes sense as rootlength can&#39;t be negative)</span></span>
<span id="cb166-8"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-8" aria-hidden="true" tabindex="-1"></a>model.LL3 <span class="ot">&lt;-</span>  <span class="fu">drm</span>(rootl<span class="sc">~</span>conc, <span class="at">data=</span>ryegrass, <span class="at">fct=</span><span class="fu">LL.3</span>(<span class="at">names =</span> <span class="fu">c</span>(<span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;Upper Limit&quot;</span>, <span class="st">&quot;ED50&quot;</span>)))</span>
<span id="cb166-9"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb166-10"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-10" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model.LL4, <span class="at">broken =</span> <span class="cn">TRUE</span>, <span class="at">xlab=</span><span class="st">&quot;Concentration&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Percent Response&quot;</span>, <span class="at">type=</span><span class="st">&#39;all&#39;</span>,<span class="at">lty=</span><span class="dv">1</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb166-11"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb166-11" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model.W24, <span class="at">add=</span><span class="cn">TRUE</span>,<span class="at">col=</span><span class="st">&quot;orange&quot;</span>,<span class="at">lty=</span><span class="dv">1</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-81-1.png" width="672" /></p>
<p>You can calculate the Akaike’s information criterion and the residual variance (smaller = better) with the <code>mselect()</code> function, to make an informed decision between different models:</p>
<div class="sourceCode" id="cb167"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb167-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mselect</span>(model.LL3, <span class="at">fctList =</span> <span class="fu">list</span>(<span class="fu">W2.4</span>()), <span class="at">linreg=</span><span class="cn">TRUE</span>) </span></code></pre></div>
<pre class="Rout"><code>##          logLik        IC Lack of fit   Res var
## W2.4  -15.91352  41.82703   0.9450713 0.2646283
## LL.3  -18.60413  45.20827   0.3531679 0.3153724
## Cubic -25.53428  61.06856          NA 0.5899609
## Quad  -35.11558  78.23116          NA 1.2485122
## Lin   -50.47554 106.95109          NA 4.2863247</code></pre>
</div>
<div id="scripts-and-rmarkdown" class="section level2">
<h2>scripts and Rmarkdown</h2>
<p>So far, we have run a lot of code in the console. Or perhaps you used a script to save some commands. Usually though, you will be working on a specific dataset, rather than playing around with course material. To save all the steps for a specific analysis, you can save your code in a script, or in a markdown file.</p>
<div id="scripts" class="section level3">
<h3>scripts</h3>
<p>Scripts have been introduced before. Quite simply, they are just all R code, but in a tekst file so you can save your code for later (and importantly: for reproducability).</p>
<p>All regular tekst in a .r script will be regarded as R code. Comments can be added by putting a hashtag in front of the tekst. Any plots will be displayed in the window at the lower right of the screen.</p>
<div id="exercise-1-7" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p>If you haven’t already, make a new script with the code for fitting dose response curves we used in the previous examples. Save you script on your computer.</p>
</div>
<details>
<summary>
Click for the answer
</summary>
<ul>
<li>click file –&gt; new file –&gt; R script (or click the empty paper with green + in the upper left corner)</li>
<li>copy paste your code from the examples to your script.</li>
<li>run the script (upper right corner, press Run) to check if it is still working.</li>
<li>save the script to your computer.</li>
</ul>
<div class="sourceCode" id="cb169"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb169-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(drc)</span>
<span id="cb169-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb169-3"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-4"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-4" aria-hidden="true" tabindex="-1"></a><span class="co"># fit a 4-parameter log-logistic model</span></span>
<span id="cb169-5"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-5" aria-hidden="true" tabindex="-1"></a>model<span class="ot">&lt;-</span> <span class="fu">drm</span>(<span class="at">formula =</span> rootl<span class="sc">~</span>conc, <span class="co"># we are interested in rootlength as a function of (~) concentration</span></span>
<span id="cb169-6"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">data=</span>ryegrass, <span class="co"># input</span></span>
<span id="cb169-7"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">fct=</span><span class="fu">LL.4</span>(<span class="at">names =</span> <span class="fu">c</span>(<span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;Lower Limit&quot;</span>, <span class="st">&quot;Upper Limit&quot;</span>, <span class="st">&quot;ED50&quot;</span>)))</span>
<span id="cb169-8"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-8" aria-hidden="true" tabindex="-1"></a>            <span class="co">#LL.4 means 4-parameter log-logistic</span></span>
<span id="cb169-9"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-10"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-10" aria-hidden="true" tabindex="-1"></a><span class="co"># give me the estimates</span></span>
<span id="cb169-11"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-11" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model)</span>
<span id="cb169-12"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-13"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-13" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the dose response curve</span></span>
<span id="cb169-14"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-14" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model, <span class="at">type=</span><span class="st">&quot;all&quot;</span>)</span>
<span id="cb169-15"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-16"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-16" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate ED10, 20 and 50</span></span>
<span id="cb169-17"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-17" aria-hidden="true" tabindex="-1"></a><span class="fu">ED</span>(model, <span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">20</span>,<span class="dv">50</span>), <span class="at">interval=</span><span class="st">&quot;delta&quot;</span>)</span>
<span id="cb169-18"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-19"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-19" aria-hidden="true" tabindex="-1"></a><span class="co"># compare 2 different models</span></span>
<span id="cb169-20"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-20" aria-hidden="true" tabindex="-1"></a>model.W24 <span class="ot">&lt;-</span>  <span class="fu">drm</span>(rootl<span class="sc">~</span>conc, <span class="at">data=</span>toxdata, <span class="at">fct=</span><span class="fu">W2.4</span>(<span class="at">names =</span> <span class="fu">c</span>(<span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;Lower Limit&quot;</span>, <span class="st">&quot;Upper Limit&quot;</span>, <span class="st">&quot;ED50&quot;</span>))) <span class="co"># W2.3: a weibull type 2 function with 4 parameters</span></span>
<span id="cb169-21"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-22"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-22" aria-hidden="true" tabindex="-1"></a>model.LL3 <span class="ot">&lt;-</span>  <span class="fu">drm</span>(rootl<span class="sc">~</span>conc, <span class="at">data=</span>ryegrass, <span class="at">fct=</span><span class="fu">LL.3</span>(<span class="at">names =</span> <span class="fu">c</span>(<span class="st">&quot;Slope&quot;</span>, <span class="st">&quot;Upper Limit&quot;</span>, <span class="st">&quot;ED50&quot;</span>))) <span class="co"># a Log logistic model with 3 parameters</span></span>
<span id="cb169-23"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-24"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-24" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the comparison</span></span>
<span id="cb169-25"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-25" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model.LL4, <span class="at">broken =</span> <span class="cn">TRUE</span>, <span class="at">xlab=</span><span class="st">&quot;Concentration&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Percent Response&quot;</span>, <span class="at">type=</span><span class="st">&#39;all&#39;</span>,<span class="at">lty=</span><span class="dv">1</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb169-26"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-26" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(model.W24, <span class="at">add=</span><span class="cn">TRUE</span>,<span class="at">col=</span><span class="st">&quot;orange&quot;</span>,<span class="at">lty=</span><span class="dv">1</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb169-27"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-28"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-28" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate IC</span></span>
<span id="cb169-29"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb169-29" aria-hidden="true" tabindex="-1"></a><span class="fu">mselect</span>(model.LL3, <span class="at">fctList =</span> <span class="fu">list</span>(<span class="fu">W2.4</span>()), <span class="at">linreg=</span><span class="cn">TRUE</span>)</span></code></pre></div>
</div>
</div>
<div id="rmarkdown" class="section level2">
<h2>Rmarkdown</h2>
<p>If you want to present your findings you can either share your code and ask fellow researchers to reproduce your results or alternatively only show the output of your results. Both have their downsides, and Rmarkdown tries to comine the best of both methods. It is a reproducible manner of building documents (such as .pdf, .html and even .docx) which directly includes your code. So when you use code to generate a plot, it is included in the Rmarkdown-file you use to write the paper. It containis both code (method) and output.</p>
<p>RMarkdown can be used in three ways:</p>
<ul>
<li>to communicate only the output and conclusions of your analysis to decision makers (and not the code behind the conclusions);</li>
<li>to communicate the output and conclusions, as well as the code behind the conclusions to fellow scientists;</li>
<li>as an environment in which to do data science, as a modern day lab notebook where you can capture not only what you did, but also what you were thinking.</li>
</ul>
<p>Although here we focus on R code, RMarkdown documents can also integrate Python, Bash, SQL and other (programming) languages into one document showing both code and output. RMarkdown is also frequently used to produce (e-)books. And also, this reader.</p>
<p>Let’s start with a simple RMarkdown document to examplify the concept of RMarkdown:</p>
<p>To open an existing RMarkdown file, perform the following steps:</p>
<ol style="list-style-type: decimal">
<li>Click on <em>file &gt; Open File</em>.</li>
</ol>
<p><img src="images/07_2_screenshot.jpg" width="70%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li><p>Navigate to the folder you downloaded the course data to and select file <strong>lesson1_example1.Rmd</strong> (note: RMarkdown files have the extension .Rmd).</p></li>
<li><p>Open RMarkdown file <strong>lesson1_example1.Rmd</strong>.</p></li>
</ol>
<p>The contents of the file will be displayed in the upper left panel in RStudio and contains the following lines of code:</p>
<p><img src="images/07_4_screenshot.JPG" width="684" style="display: block; margin: auto;" /></p>
<p>An R markdown file consist of different sections of code each marked with different characters:</p>
<ul>
<li>The first <strong>header</strong> section starts and ends with —</li>
<li>Sections containing code (<strong>chunks</strong>) start and end with ```</li>
<li><strong>Plain text</strong> does not have marking characters</li>
<li>Code within plain text starts and ends with `</li>
</ul>
<p>To render an RMarkdown file (meaning to make an output file) simply click on the knit button located just above the RMarkdown file (see figure above). The output file will be shown in a separate RStudio panel.</p>
<ol start="4" style="list-style-type: decimal">
<li>Knit the RMarkdown file and take a close look at the output file.</li>
</ol>
<p>The output document is saved in the same folder as the original RMarkdown file with the extension ‘.html’. This is the default output format but can be changed to, for example, a PDF or Word format.</p>
<p>IMPORTANT: by default the output file contains the code itself, messages and the output of the code. The default behavior of what to show in the output file can be changed and will be discussed later in this lesson. But first we will explain the lay-out of the RMarkdown file.</p>
</div>
<div id="bla" class="section level2">
<h2>bla</h2>
</div>
<div id="yaml-header" class="section level2">
<h2>YAML header</h2>
<p>The first section of the RMarkdown example is the YAML header. The YAML header provides general information of the output document:</p>
<ul>
<li><strong>title</strong>: can be filled in when creating a new RMarkdown file.</li>
<li><strong>author</strong>: can be filled in when creating a new RMarkdown file.</li>
<li><strong>date</strong>: automatically set when creating a new RMarkdown file.</li>
<li><strong>output</strong>: by default RMarkdown creates an output file in HTML format. If you want another output format change output: to another file format such as PDF or Word (although you need additional packages).</li>
</ul>
<p>If you want to make different RMarkdown output files from an existing RMarkdown, it is advisable to set the date in the YAML header as follows:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb170-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="st">&#39;`r Sys.Date()`&#39;</span></span></code></pre></div>
<p>This R function sets the current date. Note that the function is between a pair of single quotes and backticks (see also later in this lesson).</p>
<p>The YAML header provides many other options to control “whole document” settings. However, this is beyond the scope of this course.</p>
<div id="example-15" class="section level6">
<h6>Example</h6>
<pre class="Rout"><code>--- 
title: &quot;Diamond sizes&quot;
author: &quot;Your Name&quot;
date: 2019-10-31
output: html_document
--- 

```{r setup}
library(ggplot2)
library(dplyr)
smaller &lt;- diamonds %&gt;%
  filter(carat &lt;= 2.5)
```

We have data about  ` r nrow( diamonds ) ` diamonds.  
Only ` r nrow( diamonds ) - nrow( smaller ) ` are larger than 2.5 carats. 
The distribution of the remainder is shown below:

```{r frequency}
smaller %&gt;%
  ggplot(aes(carat)) +
  geom_freqpoly(binwidth = 0.01)
```</code></pre>
</div>
</div>
<div id="code-chunks" class="section level2">
<h2>Code chunks</h2>
<p>The RMarkdown example above contains two chunks. A chunk is a section in the RMarkdown file containing the actual code. A chunk of code starts and ends with three backtick marks. To define the beginning of the code the three backtick marks are minimally followed with {r}. The r signals that the code is R. Remember that we can also use code of other languages such as bash or python. In that case the chunk header will be {bash} or {python}, respectively.</p>
<p>Within the {r} header, you can optionally provide a name of the header. In the example above, the first header is named “setup” and the second header is named “frequency”. Naming chunks has the advantage that your RMarkdown becomes organized so that is will be easy to search for and navigate to a specific chunk. To search for a chunk, click on search button below the RMarkdown file (see figure below).</p>
<p><img src="images/07_5_screenshot.jpg" width="50%" style="display: block; margin: auto;" /></p>
<p>Another use of named chunks is to save figures. If a chunk creates a figure, the figure can also be saved separately on your server. This option will be discussed in the next section.</p>
</div>
<div id="output-control" class="section level2">
<h2>Output control</h2>
<p>When rendering an RMarkdown file, by default the R code in a chunk is executed and the output file will contain the code, messages and output of the code. Most often this is not what you want. (NB: plain text is always printed.)</p>
<p>To control what will be shown in the output file we will use chunk options. If you want to apply a similar set of options for all “chunks”, you can use knitr::opts$set as shown below. Put this chunk, named ‘setup’ at the beginning of your RMarkdown file. The chunck options defined here will be generally applied to the whole document:</p>
<pre class="Rout"><code>```{r setup}
knitr::opts_chunk$set(option1 = &#39;hide&#39;,
option2 = FALSE,
option3 = FALSE
)
```</code></pre>
<p>It is also possible to set options for a single chunk. Simply put the options in the header of the chunk you want to modify, as shown below. General chunk options as shown above will be overwritten by the single chunk options.</p>
<pre class="Rout"><code>```{r setup, option1 = FALSE, option2 = FALSE} 
library(ggplot2)
library(dplyr)
smaller &lt;- diamonds %&gt;%
  filter(carat &lt;= 2.5)
```                               </code></pre>
<p>There are more than <a href="https://yihui.org/knitr/options/">60 options</a> to add to a chunk header. Some of these options determine what happens with the chunk code:</p>
<ul>
<li><strong>eval</strong> = FALSE: the code is not executed. The chunk code is shown in the output file. This is useful for displaying example code.</li>
<li><strong>include</strong> = FALSE: the code is executed, but the chunk code and all of its output (results, figures, messages and warnings) are not shown in the output file. This is useful for chunks performing data wrangling, for example data filtering or creating new variables, which are later used in graphs or summary tables.</li>
<li><strong>echo</strong> = FALSE: the code is executed, but the chunk code is not in the output file. All output of the chunk is shown in the output file. This is useful for showing the final results (graphs) of your data analysis and not how you achieved your results. Use this when writing reports aimed at people who do not want to see the underlying R code.</li>
</ul>
<p>Note that the option “include = FALSE” <a href="https://yihui.org/en/2017/11/knitr-include-false/">supresses</a> all output of a chunk. To specifically control what should not be be in the output file you can make use of the following options:</p>
<ul>
<li><strong>results</strong> = “hide”: the code is executed and the chunk code is shown in the output file. The results of R functions are not shown in the output file.</li>
<li><strong>fig.show</strong> = “hide”: the code is executed and he chunk code is shown in the output file. Figures of R functions are not shown in the output file.</li>
<li><strong>message</strong> = FALSE: the code is executed and the chunk code is shown in the output file. R messages are not shown in the output file.</li>
<li><strong>warning</strong> = FALSE: the code is executed and the chunk code is shown in the output file. R warnings are not shown in the output file.</li>
</ul>
<p>Table with different chunk output options. <strong>yes</strong> means present in the output file.</p>
<table>
<colgroup>
<col width="16%" />
<col width="19%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Option</th>
<th align="left">Run code</th>
<th align="left">Show code</th>
<th align="left">Output</th>
<th align="left">Plots</th>
<th align="left">Message</th>
<th align="left">Warning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">eval = FALSE</td>
<td align="left">no</td>
<td align="left"><strong>yes</strong></td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">no</td>
</tr>
<tr class="even">
<td align="left">include = FALSE</td>
<td align="left"><strong>yes</strong></td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">no</td>
<td align="left">no</td>
</tr>
<tr class="odd">
<td align="left">echo = FALSE</td>
<td align="left"><strong>yes</strong></td>
<td align="left">no</td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
</tr>
<tr class="even">
<td align="left">results = “hide”</td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left">no</td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
</tr>
<tr class="odd">
<td align="left">fig.show = “hide”</td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left">no</td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
</tr>
<tr class="even">
<td align="left">message = FALSE</td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left">no</td>
<td align="left"><strong>yes</strong></td>
</tr>
<tr class="odd">
<td align="left">warning = FALSE</td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left"><strong>yes</strong></td>
<td align="left">no</td>
</tr>
</tbody>
</table>
<div id="exercise-1-8" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<ol style="list-style-type: lower-alpha">
<li>Modify RMarkdown file <strong>lesson1_example1.Rmd</strong> to only show the figure in the output file.</li>
<li>Modify RMarkdown file <strong>lesson1_example1.Rmd</strong> to only show the chunk code in the output file (not the output of the chunks).</li>
</ol>
<p>Save the Rmd files as <strong>lesson1_exercise_1a.Rmd</strong> and <strong>lesson1_exercise_1b.Rmd</strong> respectively in the server folder <strong>daur/rmarkdown</strong>.</p>
</div>
<details>
<summary>
Click for the answer
</summary>
<ol style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb174"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb174-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb174-1" aria-hidden="true" tabindex="-1"></a>{r setup, echo <span class="ot">=</span> <span class="cn">FALSE</span>, message <span class="ot">=</span> <span class="cn">FALSE</span>}</span>
<span id="cb174-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb174-2" aria-hidden="true" tabindex="-1"></a>{r frequency, echo <span class="ot">=</span> <span class="cn">FALSE</span>}</span></code></pre></div>
<ol start="2" style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb175"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb175-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb175-1" aria-hidden="true" tabindex="-1"></a>{r setup, message <span class="ot">=</span> <span class="cn">FALSE</span>}</span>
<span id="cb175-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb175-2" aria-hidden="true" tabindex="-1"></a>{r frequency, fig.show <span class="ot">=</span> <span class="st">&quot;hide&quot;</span>}</span></code></pre></div>
</details>
<hr />
<p>There are also several options for dealing with figure output and layout:</p>
<ul>
<li><strong>fig.width</strong> = n and <strong>fig.height</strong> = n (where n is a number representing inches): to change the width and height of the figures in your output file.</li>
<li><strong>fig.cap</strong> = “name of the caption”: to add a caption to the figure plot (a caption is a numbered label, such as “Figure 1”).</li>
<li><strong>fig.path</strong> = “figures/”: to create separate files of figures created by a chunk. First create a figures folder in the rmarkdown directory. The file containing the figure will be stored in this folder with a similar name as the chunk name.</li>
</ul>
<div id="exercise-1-9" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<ol style="list-style-type: lower-alpha">
<li>Modify RMarkdown file lesson1_example1.Rmd to:</li>
</ol>
<ul>
<li>Show only the figure in the output file.</li>
<li>Modify the figure width to 6 and the height half of the width.</li>
<li>The figure in the output file has an caption.</li>
</ul>
<ol start="2" style="list-style-type: lower-alpha">
<li></li>
</ol>
<p>Modify RMarkdown file lesson1_example1.Rmd to:</p>
<ul>
<li>Show only the plain text.</li>
<li>Save the figure in a separate file stored in the server folder daur/rmarkdown/figures.</li>
</ul>
<p>Save the Rmd files as <strong>lesson1_exercise_2a.Rmd</strong> and <strong>lesson1_exercise_2b.Rmd</strong> respectively in the server folder <strong>daur/rmarkdown</strong></p>
</div>
<details>
<summary>
Click for the answer
</summary>
<ol style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb176"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb176-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb176-1" aria-hidden="true" tabindex="-1"></a>{r setup, echo <span class="ot">=</span> <span class="cn">FALSE</span>, message <span class="ot">=</span> <span class="cn">FALSE</span>}</span>
<span id="cb176-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb176-2" aria-hidden="true" tabindex="-1"></a>{r frequency, echo <span class="ot">=</span> <span class="cn">FALSE</span>, fig.height <span class="ot">=</span> <span class="dv">3</span>, fig.width <span class="ot">=</span> <span class="dv">6</span>, fig.cap <span class="ot">=</span> <span class="st">&quot;Figure1: Distribution of carat values&quot;</span>}</span></code></pre></div>
<ol start="2" style="list-style-type: lower-alpha">
<li></li>
</ol>
<div class="sourceCode" id="cb177"><pre class="sourceCode r Rchunk"><code class="sourceCode r"><span id="cb177-1"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb177-1" aria-hidden="true" tabindex="-1"></a>{r setup, include<span class="ot">=</span><span class="cn">FALSE</span>}</span>
<span id="cb177-2"><a href="lesson-1---introduction-to-r-and-rstudio.html#cb177-2" aria-hidden="true" tabindex="-1"></a>{r frequency, include<span class="ot">=</span><span class="cn">FALSE</span>, fig.path <span class="ot">=</span><span class="st">&quot;figures/&quot;</span>}</span></code></pre></div>
</details>
<hr />
<p>In the RMarkdown output file, data frames (tibbles) are printed in the same way as you would see them in the RStudio console. To change this behavior, you can use the knitr::kable() function as demonstrated in RMarkdown file <strong>lesson1_flights_table.Rmd</strong>. This file is present in server folder <strong>daur/rmarkdown/</strong>.</p>
<p>Open and knit this RMarkdown file (the code is also shown below). Study the code and the RMarkdown output format.</p>
<div id="example-16" class="section level6">
<h6>Example</h6>
<pre class="Rout"><code>---
title: &quot;Lesson8_flights_table&quot;
author: &quot;Chris van Oevelen&quot;
date: &quot;3-11-2019&quot;
output: html_document
---

```{r setup}
library(nycflights13)
library(tidyverse)
flights_select &lt;- flights %&gt;% select(year, month, day, carrier, flight, tailnum)
```

```{r table1}
head(flights_select)
```

```{r table2}
knitr::kable(
  head(flights_select),
  caption = &quot;Table1: a table with a different lay-out.&quot;
)
```</code></pre>
</div>
<div id="exercise-1-10" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p>For this exercise we will make use of the <strong>gapminder</strong> dataset from the <strong>dslabs</strong> package. Select for each year the country with the highest infant_mortality. Present the data in a clear table only showing the variables “country”, “year”, and “infant_mortality”.</p>
<p>Create a RMarkdown document containing the R code. The output file of the RMarkdown document should only contain the table. Save the RMarkdown file in the server folder <strong>daur/rmarkdown</strong> as <strong>lesson1_exercise_3.Rmd</strong>.</p>
</div>
<details>
<summary>
Click for the answer
</summary>
<pre class="Rout"><code>---
title: &quot;gapminder_table&quot;
author: &quot;Your name&quot;
date: &#39;`r Sys.Date()`&#39;
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(dslabs)
```

```{r table, warning=FALSE, echo=FALSE}
knitr::kable(
  gapminder %&gt;% select(country, year, infant_mortality) %&gt;%
    group_by(year) %&gt;%
    filter(infant_mortality == max(infant_mortality, na.rm = TRUE)),
  caption = 
    &quot;Table1: countries with highest infant mortality rate from 1960-2016.&quot;
)
```</code></pre>
</details>
</div>
<div id="plain-text-formatting" class="section level2">
<h2>Plain text formatting</h2>
<p>An RMarkdown document contains a YAML header and chunks of code to be executed. In addition, plain text can be added to describe your analysis, results or whatever you think is useful to understand your RMarkdown document. Plain text will always be shown in the output file (unless you put it in a chunk as comments, starting with a # sign).</p>
<p>The output of plain text can easily be formatted by a set of simple formatting rules:</p>
<ul>
<li>to print plain text in italics surround the text with 1 underscore: _text_ will become <em>text</em>.</li>
<li>to print plain text in bold surround the text with 2 underscores: __text__ will become <strong>text</strong>.</li>
<li>to print superscript use ^2^: 10^2^ will become 10<sup>2</sup>.</li>
<li>to print subscript use ~2~: H~2~O will become H<sub>2</sub>O.</li>
</ul>
<p>To print headers use the pound sign in front of the header text:</p>
<p># 1st Level Header
## 2nd Level Header
### 3rd Level Header</p>
<p>A quick reference guide can be found in RStudio: <em>Help &gt; Markdown Quick Reference</em>. A complete reference guide can be found in RStudio: <em>Help &gt; Cheatsheets &gt; R markdown Reference Guide</em>.</p>
<p>Within plain text, R code can be executed. To incorporate R code within plain text, use r code surrounded by backticks `. The code will be evaluated and printed in the output document. Note that the original code will not be shown in the output document!</p>
<div id="exercise-1-11" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p>Modify RMarkdown document <strong>lesson1_exercise_3.Rmd</strong> to include:</p>
<ul>
<li>Plain text describing the source of the dataset. Write the package name in italics and the name of the dataset in bold.</li>
<li>the sentence: “the infant mortality has dropped from ’ [R code showing the max infant_mortality in 1960] ’ in 1960 to ’ [R code showing max infant_mortality in 2015] ’ in 2015.” NB: the parts between square brackets is R code you have to include; this R code will be evaluated within the plain text section after rendering the output file.</li>
</ul>
<p>Save the RMarkdown file in the server folder <strong>daur/rmarkdown</strong> as <strong>lesson1_exercise_4.Rmd</strong>.</p>
</div>
<details>
<summary>
Click for the answer
</summary>
<pre class="Rout"><code>---
title: &quot;gapminder_table&quot;
author: &quot;Your name&quot;
date: &#39;`r Sys.Date()`&#39;
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(dslabs)
```

source of data: The __gapminder__ dataset from the _dslabs_ package.

The infant mortaliy has drop from 
`r year_1960 &lt;- gapminder %&gt;% filter (year == 1960); max (year_1960$infant_mortality, na.rm = TRUE)` 
in 1960 to 
`r year_2015 &lt;-gapminder %&gt;% filter (year == 2015); max (year_2015$infant_mortality, na.rm = TRUE)` 
in 2015.

```{r table, warning=FALSE, echo=FALSE}
knitr::kable(
  gapminder %&gt;% select(country, year, infant_mortality) %&gt;%
    group_by(year) %&gt;%
    filter(infant_mortality == max(infant_mortality, na.rm = TRUE)),
  caption = 
    &quot;Table1: countries with highest infant mortality rate from 1960-2016.&quot;
)
```</code></pre>
</details>
</div>
<div id="here-package" class="section level2">
<h2>Here package</h2>
<p>To exemplify the idea of RMarkdown we have used a built-in dataset to show the different display options of code and output. However, most often you will refer to datasets or scripts in your RMarkdown file that are stored on the server. This will cause a problem because RMarkdown and knit will not search for files in the project folder but instead in the folder were the RMarkdown file is stored. To solve this problem we will make use of the “here” package.</p>
<p>In the beginning of this course we have created an Rproject and before each session you should open the Rproject you are working on. Within the project folder (in this case <strong>daur</strong>) you organize your data files, scripts files, RMarkdown files and output files in different folders (see figure below). By using an Rproject you are guaranteed that when executing R code / scripts from the server folder <strong>scripts</strong>, all of your (data) files are read in properly. This is because by definition, within your Rproject environment, R will set the working directory to the project folder and start looking for folders and files relative from the Rproject folder (the folder that contains the .Rproj file, in this case the daur folder).</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-98"></span>
<img src="images/07_6_screenshot.jpg" alt="Data organisation on the server. Always create an Rproject to do data analysis." width="50%" />
<p class="caption">
Figure 5: Data organisation on the server. Always create an Rproject to do data analysis.
</p>
</div>
<p>When using RMarkdown, the default behavior is to only look in the folder where the RMarkdown file is stored. This will cause errors when knitting an RMarkdown file because RMarkdown can not find the data files stored in the data folder outside the RMarkdown folder.</p>
<p>For example, you source (execute) a script from the <strong>scripts</strong> folder and this script imports a dataset present in the <strong>data</strong> folder. Because you work within your Rproject, R will start looking for folders and files relative to the project folder (in this case the daur folder). Contrary, if you are knitting an RMarkdown file and this RMarkdown imports a dataset present in the <strong>data</strong> folder, RMarkdown will only start looking in the RMarkdown folder and will never find the data folder. This will cause an error and the knitting of the RMarkdown document stops.</p>
<div id="example-17" class="section level6">
<h6>Example</h6>
<p>Open via Rstudio the RMarkdown file <strong>lesson1_here_example1.Rmd</strong> present in server folder <strong>daur/rmarkdown</strong>. The file contains the following RMarkdown code:</p>
<pre class="Rout"><code>```{r}
library(tidyverse)
object1 &lt;- read_csv(&quot;data/lesson3/heights.csv&quot;)
head(object1)
```</code></pre>
<p>Click on the knit button to render the output file. You will get the following error message:</p>
<p><img src="images/07_7_screenshot.JPG" width="80%" /></p>
<p>You notice that the current working directory is set to the <strong>rmarkdown</strong> folder. RMarkdown start looking for folder “data/lesson2/heights.csv” in this folder but can not find it. It throws an error and exits the knitting process.</p>
<p>To change the default behaviour of RMarkdown, we will use the <strong>here</strong> package. The <strong>here</strong> package recreates a file path to the Rproject folder. The <strong>here</strong> package is already installed on the server.</p>
</div>
<div id="example-18" class="section level6">
<h6>Example</h6>
<p>In Rstudio, open the RMarkdown file <strong>lesson1_here_example2.Rmd</strong> present in server folder <strong>daur/rmarkdown</strong>. The markdown file contains the following RMarkdown code:</p>
<pre class="Rout"><code>``` {r}
library(tidyverse)
library(here) 
object2 &lt;- read_csv(here(&quot;data/lesson3/heights.csv&quot;))          
head(object2)
```</code></pre>
<p>The output file will be displayed in a separate RStudio panel. In addition, an output file named <strong>lesson1_here_example2.html</strong> is created and saved in the <strong>rmarkdown</strong> folder.</p>
</div>
<div id="exercise-1-12" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p>Use dataset <strong>c10_gene_expression.txt</strong> from the course data. This file contains gene expression values after 0h, 3h, 12, 24h and 48h (hours) of induction of the c10 celline. After induction, the cell undergoes a massive change in gene expression.</p>
<p>Show the genes that become highest upregulated after 48 hours (48h) of induction compared to the start condition (= 0h). Only list genes which have a difference of 8 or more between 48h and 0h.</p>
<p>Write an RMarkdown document. The RMarkdown document should contain:</p>
<ul>
<li>YAML header.</li>
<li>Plain text describing the source of the dataset.</li>
<li>Chunks containing R code to create a table of the highest expressed genes after 48h.</li>
</ul>
<p>The RMarkdown output file only contains the table. Save the RMarkdown file in the server folder <strong>daur/rmarkdown</strong> as <strong>lesson1_exercise_5.Rmd</strong>.</p>
</div>
<details>
<summary>
Click for the answer
</summary>
<pre class="Rout"><code>---
title: &quot;Lesson8_Exercise_5&quot;
author: &quot;Your Name&quot;
date: &#39; `r Sys.Date() ` &#39;
output: html_document
---

source of the dataset is __daur/data/lesson8/c10_gene_expression.txt__

``` {r setup, include=FALSE}
library(tidyverse)
library(here)
```

```{r import, include=FALSE}
# Read in the data
c10_gene_expression &lt;- read_tsv(here(&quot;data/lesson8/c10_gene_expression.txt&quot;))

# Create a column with the difference
c10_gene_expression_up8 &lt;- 
  mutate(c10_gene_expression, up = `48h` - `0h`) %&gt;% 
  filter(up &gt;= 8)
```

```{r table_genes, echo=FALSE}
knitr::kable(
  c10_gene_expression_up8,
  caption = &quot;Table1: Genes with highest induction of expression after 48 hours&quot;
)
```</code></pre>
</details>
</div>
<div id="creating-a-new-rmarkdown-file" class="section level2">
<h2>Creating a new RMarkdown file</h2>
<p>To create your own Rmarkdown documents in RStudio, perform the following steps:</p>
<ol style="list-style-type: decimal">
<li>click <em>File &gt; New File &gt; R Markdown</em>.</li>
</ol>
<p><img src="images/07_8_screenshot.jpg" width="60%" style="display: block; margin: auto;" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Fill out the Title and Author which will be displayed in the YAML header (this step is optional).</li>
</ol>
<p><img src="images/07_9_screenshot.JPG" width="60%" style="display: block; margin: auto;" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Click on OK. A default template will be opened in RStudio showing the YAML header and instruction on how to use RMarkdown:</li>
</ol>
<p><img src="images/07_10_screenshot.JPG" width="592" /></p>
<ol start="4" style="list-style-type: decimal">
<li>Remove the instructions but leave the YAML header.</li>
<li>Start writing your RMarkdown document.</li>
<li>Save your document in a folder called rmarkdown in your server project folder.</li>
<li>To render your RMarkdown document, click on the knit button.</li>
</ol>
<div id="exercise-1-13" class="section level5 unnumbered question">
<h5>Exercise 1</h5>
<p>Create a new RMarkdown document. In this document, create R chuncks to perform the following tasks:</p>
<ul>
<li>Read in the dataset <strong>c10_gene_expression.txt</strong> from the course data.</li>
<li>Convert this dataset to a tidy dataset. Set the time variable as a factor and set the levels of this factor in a logical order.</li>
<li>Create a scatter plot (ggplot) that shows the results for the genes “Slfn4” and “Cd14”.</li>
</ul>
<p>The RMarkdown output file contains the code to make the scatter plot and the plot itself. All other R code used for data transformation and wrangling is not shown in the output file. Save the RMarkdown file as <strong>lesson1_exercise_genexp.Rmd</strong>.</p>
</div>
<details>
<summary>
Click for the answer
</summary>
<pre class="Rout"><code>---
title: &quot;Lesson8_Exercise_6&quot;
author: &quot;Your Name&quot;
date: &#39; `r Sys.Date() ` &#39;
output: html_document
---

``` {r setup, include=FALSE}
library(tidyverse)
library(here)
```

```{r import, include=FALSE}
# Read in the data
c10_gene_expression &lt;- read_tsv(here(&quot;data/lesson8/c10_gene_expression.txt&quot;))

# Make data tidy
gene_expr_tidy &lt;- c10_gene_expression %&gt;% 
  gather(`0h`, `3h`, `12h`, `24h`, `48h`, key = time, value = expression) %&gt;%
  mutate(time = as.factor(time))

# Reorder the levels of the time variable
levels(gene_expr_tidy$time) &lt;- c(&quot;0h&quot;, &quot;3h&quot;, &quot;12h&quot;, &quot;24h&quot;, &quot;48h&quot;)
```

```{r figure_genes}
gene_expr_tidy %&gt;% filter(gene == &quot;Slfn4&quot; | gene == &quot;Cd14&quot;) %&gt;%
  ggplot(aes(x = time, y = expression, colour = gene)) + 
  geom_point() 
```</code></pre>
</details>
<div class="dagopdracht">
<p>Practice in the following week on building Rmarkdown reports with data chunks analysing a certain research question.</p>
<p>You can use the build-in datasets in R (type <code>data()</code> to see them)</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="preparation-before-the-course.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="lesson-2---data-types-and-structures-in-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
